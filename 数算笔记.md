## ç¬”è¯•å¤ä¹ 

1ï¼‰æ•°æ®é¡¹æ˜¯æ•°æ®çš„æœ€å°å•ä½ï¼Œæ•°æ®å…ƒç´ æ˜¯æ•°æ®çš„åŸºæœ¬å•ä½
ä¾‹å¦‚ï¼Œâ€œå­¦ç”Ÿâ€è¿™ä¸ªæ•°æ®å…ƒç´ å¯èƒ½åŒ…å«â€œå§“åâ€ã€â€œå­¦å·â€ã€â€œå¹´é¾„â€ç­‰æ•°æ®é¡¹ã€‚

2ï¼‰é¡ºåºè¡¨æ˜¯è¿ç»­å‚¨å­˜çš„ï¼Œäºæ˜¯å¯ä»¥å¾ˆå¿«è®¿é—®ç¬¬ i ä¸ªèŠ‚ç‚¹ï¼ˆæ”¯æŒéšæœºè®¿é—®ï¼‰
- é¡ºåºè¡¨ä¿®æ”¹æŸ¥è¯¢å¿«ï¼Œé“¾è¡¨æ’å…¥åˆ é™¤å¿«
1. **å­˜å‚¨ç»“æ„ï¼ˆç‰©ç†ç»“æ„ï¼‰**ï¼šæŒ‡æ•°æ®åœ¨è®¡ç®—æœºä¸­çš„å®é™…å­˜å‚¨æ–¹å¼ï¼Œå¦‚é¡ºåºå­˜å‚¨ï¼ˆæ•°ç»„ï¼‰ã€é“¾å¼å­˜å‚¨ï¼ˆé“¾è¡¨ï¼‰ç­‰ã€‚
    
    - **é“¾è¡¨**æ˜¯ä¸€ç§å…¸å‹çš„é“¾å¼å­˜å‚¨ç»“æ„ï¼Œé€šè¿‡æŒ‡é’ˆæˆ–å¼•ç”¨å°†èŠ‚ç‚¹è¿æ¥èµ·æ¥ã€‚
        
2. **é€»è¾‘ç»“æ„**ï¼šæè¿°æ•°æ®çš„é€»è¾‘å…³ç³»ï¼Œä¸å…·ä½“å­˜å‚¨æ— å…³ã€‚å…¶ä»–é€‰é¡¹å‡å±äºé€»è¾‘ç»“æ„ï¼š
    
    - **A. çº¿æ€§è¡¨**ï¼šé€»è¾‘ç»“æ„ï¼Œå¯ç”¨é¡ºåºå­˜å‚¨ï¼ˆæ•°ç»„ï¼‰æˆ–é“¾å¼å­˜å‚¨ï¼ˆé“¾è¡¨ï¼‰å®ç°ã€‚
        
    - **C. æ ˆ**Â å’ŒÂ **D. é˜Ÿåˆ—**ï¼šæ˜¯ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼ˆé€»è¾‘ç»“æ„ï¼‰ï¼Œå¯é€šè¿‡æ•°ç»„æˆ–é“¾è¡¨å®ç°ã€‚
- **é€»è¾‘ç»“æ„**ï¼šæè¿°æ•°æ®ä¹‹é—´çš„å…³ç³»ï¼ˆçº¿æ€§ã€æ ‘ã€å›¾ç­‰ï¼‰ã€‚
    
- **å­˜å‚¨ç»“æ„**ï¼šæè¿°æ•°æ®åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼ï¼ˆé¡ºåºã€é“¾å¼ã€ç´¢å¼•ã€æ•£åˆ—ï¼‰ã€‚
    
- **é“¾è¡¨**Â æ˜¯å­˜å‚¨ç»“æ„ï¼Œè€ŒÂ **æ ˆã€é˜Ÿåˆ—ã€çº¿æ€§è¡¨**Â æ˜¯é€»è¾‘ç»“æ„ã€‚

3ï¼‰å¾ªç¯é˜Ÿåˆ—

| æ¡ä»¶                      | å«ä¹‰     |
| ------------------------- | -------- |
| rear == front           | é˜Ÿåˆ—ä¸ºç©º |
| (rear + 1) % n == front | é˜Ÿåˆ—ä¸ºæ»¡ |

4ï¼‰ä¸€ä¸ªæ ‘è½¬ä¸ºäºŒå‰æ ‘
### æ ‘è½¬æ¢ä¸ºäºŒå‰æ ‘çš„è§„åˆ™

1. **å·¦å­©å­-å³å…„å¼Ÿè¡¨ç¤ºæ³•ï¼ˆChild-Sibling Representationï¼‰**ï¼š
    
    - æ¯ä¸ªç»“ç‚¹çš„**ç¬¬ä¸€ä¸ªå­ç»“ç‚¹**ä½œä¸ºå…¶**å·¦å­©å­**ã€‚
        
    - è¯¥ç»“ç‚¹çš„**å…„å¼Ÿç»“ç‚¹**ï¼ˆåŒä¸€å±‚çš„å…¶ä»–å­ç»“ç‚¹ï¼‰ä½œä¸ºå…¶**å³å­©å­**ã€‚
        
2. **è½¬æ¢è¿‡ç¨‹**ï¼š
    
    - ä»æ ‘çš„**æ ¹ç»“ç‚¹**å¼€å§‹ï¼Œå°†å…¶ç¬¬ä¸€ä¸ªå­ç»“ç‚¹ä½œä¸ºå·¦å­©å­ã€‚
        
    - è¯¥å­ç»“ç‚¹çš„å…„å¼Ÿç»“ç‚¹ä¾æ¬¡ä½œä¸ºå³å­©å­ï¼ˆå½¢æˆå³é“¾ï¼‰ã€‚
        
    - é€’å½’å¤„ç†æ‰€æœ‰å­æ ‘

5ï¼‰å¡ç‰¹å…°æ•°
$$
C_{n}=\frac{1}{n+1}\binom{2n}{n}
$$
- n ä¸ªèŠ‚ç‚¹èƒ½æ„é€ å¤šå°‘ç§äºŒå‰æ ‘
- n ä¸ªå…ƒç´ çš„æ ˆæœ‰å¤šå°‘å‡ºæ ˆåºåˆ—

6ï¼‰å¯¹äºå®Œå…¨äºŒå‰æ ‘ï¼Œå¶å­èŠ‚ç‚¹æ•°= $\left\lceil  \frac{n}{2}  \right\rceil$

| ç±»å‹       | å…¬å¼                                                |
| -------- | ------------------------------------------------- |
| å®Œå…¨äºŒå‰æ ‘å¶å­æ•° | $\left\lceil \dfrac{n}{2} \right\rceil$           |
| åº¦ä¸º0ç»“ç‚¹æ•°   | $n_0 = \left\lceil \dfrac{n + 1}{2} \right\rceil$ |
| åº¦ä¸º1ç»“ç‚¹æ•°   | $n_1 = 0 \text{ æˆ– } 1$ï¼ˆå–å†³äºæ˜¯å¦ä¸ºæ»¡äºŒå‰æ ‘ï¼‰                |
| åº¦ä¸º2ç»“ç‚¹æ•°   | $n_2 = n_0 - 1$                                   |

7ï¼‰
ã€æ•°æ®ç»“æ„ã€‘è®¾ F æ˜¯ä¸€ä¸ªæ£®æ—ï¼ŒB æ˜¯ç”± F å˜æ¢å¾—çš„äºŒå‰æ ‘ã€‚è‹¥ F ä¸­æœ‰ n ä¸ªéç»ˆç«¯ç»“ç‚¹ï¼Œåˆ™ B ä¸­å³æŒ‡é’ˆåŸŸä¸ºç©ºçš„ç»“ç‚¹æœ‰å¤šå°‘ä¸ª

https://blog.csdn.net/lauie545/article/details/120107604

åœ¨æ£®æ—çš„æ¯ä¸€é¢—å­æ ‘ä¸­ï¼Œè½¬åŒ–äºŒå‰æ ‘åå³æŒ‡é’ˆåŸŸä¸ºç©ºä»£è¡¨ç€è¿™ä¸ªèŠ‚ç‚¹æ˜¯å…„å¼Ÿç»„çš„æœ€åä¸€ä¸ªï¼Œå†å¾€å³æ²¡æœ‰å…„å¼Ÿäº†ã€‚æ‰€ä»¥æœ‰å¤šå°‘ä¸ªå…„å¼Ÿç»„å°±æœ‰å¤šå°‘å³æŒ‡é’ˆåŸŸä¸ºç©ºã€‚æ¯ä¸ªå…„å¼Ÿç»„éƒ½æœ‰è‡ªå·±çš„çˆ¶äº²ï¼Œçˆ¶äº²å°±æ˜¯éç»ˆç«¯ç»“ç‚¹ï¼ˆåˆ†æ”¯ç»“ç‚¹ï¼‰ã€‚

æ‰€ä»¥æ¯æ£µå­æ ‘è½¬åŒ–åå³æŒ‡é’ˆåŸŸä¸ºç©ºçš„ç»“ç‚¹æ ‘ç­‰äºéç»ˆç«¯ç»“ç‚¹ï¼ˆåˆ†æ”¯ç»“ç‚¹ï¼‰ã€‚

åˆå› ä¸ºæ‰€æœ‰æ ¹ç»“ç‚¹è½¬åŒ–åï¼Œæœ€å³è¾¹çš„æ ¹ç»“ç‚¹å³æŒ‡é’ˆåŸŸä¹Ÿä¸ºç©ºã€‚

æ‰€ä»¥æœ€ç»ˆè½¬åŒ–åå³æŒ‡é’ˆåŸŸä¸ºç©ºçš„ç»“ç‚¹æ€»æ•°ä¸ºï¼š
éç»ˆç«¯ç»“ç‚¹æ•°+1ã€‚

8ï¼‰å¹³è¡¡äºŒå‰æ ‘
è®°å¾—å¤ä¹ ç»´æŠ¤å¹³è¡¡


9ï¼‰BÂ æ ‘åˆå«å¹³è¡¡å¤šè·¯æŸ¥æ‰¾æ ‘ã€‚
ä¸€æ£µmé˜¶çš„BÂ æ ‘Â (må‰æ ‘)çš„ç‰¹æ€§å¦‚ä¸‹ï¼š
1. æ ¹èŠ‚ç‚¹è‡³å°‘æœ‰ä¸¤ä¸ªå­©å­ã€‚
2. æ¯ä¸ªéæ ¹èŠ‚ç‚¹è‡³å°‘æœ‰M/2ï¼ˆä¸Šå–æ•´ï¼‰ä¸ªå­©å­ï¼Œè‡³å¤šæœ‰Mä¸ªå­©å­ã€‚
3. æ¯ä¸ªå¶å­èŠ‚ç‚¹è‡³å°‘æœ‰Â M/2-1ï¼ˆä¸Šå–æ•´ï¼‰ä¸ªå…³é”®å­—ï¼Œè‡³å¤šæœ‰Â M-1Â ä¸ªå…³é”®å­—ã€‚å¹¶ä»¥å‡åºæ’åˆ—ã€‚ï¼ˆæ³¨ï¼šå¶å­èŠ‚ç‚¹æ˜¯æ²¡æœ‰å­©å­ï¼‰
4. key[i]Â å’ŒÂ key[i+1]Â ä¹‹é—´çš„å­©å­èŠ‚ç‚¹çš„å€¼ä»‹äºÂ key[i]Â å’ŒÂ key[i+1]Â ä¹‹é—´ã€‚
5. æ‰€æœ‰çš„å¶å­èŠ‚ç‚¹éƒ½åœ¨åŒä¸€å±‚ã€‚

10ï¼‰å¿«é€Ÿæ’åº
1. æŒ–å‘æ³•ï¼ˆä¸€å¼€å§‹çš„å‘ä½ä¸ºåŸºå‡†å€¼ï¼‰
2. éœå°”æ³•ï¼ˆç¢°æ’åå°†ç¢°æ’ä½ç½®ä¸ pivot äº¤æ¢ï¼‰

11ï¼‰å †æ’åº
ä»ä¸‹å¾€ä¸Šéå¶èŠ‚ç‚¹ä¸‹æ²‰è°ƒæ•´

12ï¼‰m å‰æ ‘æ€§è´¨
1. æ€»ç»“ç‚¹æ•°ï¼š$N=N_{0}+N_{1}+\cdots+N_{m}$
2. è¾¹æ•°ä¸èŠ‚ç‚¹æ•°å…³ç³»ï¼šè¾¹æ•° $=N-1$
3. ä¸€æ¡è¾¹è´¡çŒ®ä¸¤ä¸ªåº¦æ•°
13ï¼‰äºŒå‰æœç´¢æ ‘çš„åˆ é™¤
æ›¿æ¢åŸåˆ™ï¼šå½“å‰èŠ‚ç‚¹å·¦å­æ ‘æœ€å¤§èŠ‚ç‚¹/å³å­æ ‘æœ€å°èŠ‚ç‚¹

14ï¼‰**å¸¸è§æ’åºç®—æ³•çš„ç¨³å®šæ€§æ€»ç»“**

| æ’åºç®—æ³•     | æ˜¯å¦ç¨³å®š  | åŸå›               |
| -------- | ----- | --------------- |
| **å†’æ³¡æ’åº** | âœ… ç¨³å®š  | ç›¸é‚»æ¯”è¾ƒï¼Œç›¸ç­‰ä¸äº¤æ¢      |
| **æ’å…¥æ’åº** | âœ… ç¨³å®š  | é€ä¸ªæ’å…¥ï¼Œç›¸ç­‰ä¸äº¤æ¢      |
| **å½’å¹¶æ’åº** | âœ… ç¨³å®š  | åˆå¹¶æ—¶ä¿æŒç›¸ç­‰å…ƒç´ çš„é¡ºåº    |
| **é€‰æ‹©æ’åº** | âŒ ä¸ç¨³å®š | äº¤æ¢å¯èƒ½ç ´åç›¸ç­‰å…ƒç´ çš„é¡ºåº   |
| **å¿«é€Ÿæ’åº** | âŒ ä¸ç¨³å®š | åˆ†åŒºè¿‡ç¨‹å¯èƒ½æ”¹å˜ç›¸ç­‰å…ƒç´ çš„é¡ºåº |
| **å¸Œå°”æ’åº** | âŒ ä¸ç¨³å®š | åˆ†ç»„è·³è·ƒäº¤æ¢å¯èƒ½å¯¼è‡´é¡ºåºæ”¹å˜  |
| **å †æ’åº**  | âŒ ä¸ç¨³å®š | å †è°ƒæ•´å¯èƒ½æ”¹å˜ç›¸ç­‰å…ƒç´ çš„é¡ºåº  |

15ï¼‰å»ºå †çš„æœ€å°æ—¶é—´å¤æ‚åº¦æ˜¯ $O(n)$
- ä»éå¶èŠ‚ç‚¹å¼€å§‹å»ºå †

ä»ä¸Šåˆ°ä¸‹å»ºå †çš„æ—¶å€™ï¼Œæ±‚æœ€å°å„¿å­çš„æ¯”è¾ƒä¹Ÿç®—ä¸€æ¬¡æ¯”è¾ƒ

16ï¼‰åŒæ•£åˆ—æ³•è§£å†³å†²çª
ç¬¬ä¸€ä¸ªå‡½æ•°ç”¨æ¥æ‰¾ä½ç½®ï¼Œç¬¬äºŒä¸ªç”¨æ¥ç”Ÿæˆæ¢æµ‹åºåˆ—

### ä½è¿ç®—

### å †çš„ä½¿ç”¨


### é›†åˆè®ºåˆ°ä½è¿ç®—
> åœ¨ä»£ç ä¸­ï¼Œé›†åˆå’ŒäºŒè¿›åˆ¶æ•°ã€ä½è¿ç®—æœ‰ç€å¾ˆå¤šè”ç³»
#### å‰è¨€
æˆ‘ä»¬å¯ä»¥å°†é›†åˆç”¨äºŒè¿›åˆ¶è¡¨ç¤º
åŒ…å«éè´Ÿæ•´æ•°çš„é›†åˆ $S$ å¯ä»¥ç”¨å¦‚ä¸‹æ–¹å¼â€œå‹ç¼©â€æˆä¸€ä¸ªæ•°å­—ï¼š$f(S)=\sum_{i\in S}2^{i}$
ä¾‹å¦‚ï¼š$\left\{ 0,2,3 \right\}\implies1101_{(2)}$

åˆ©ç”¨ä½è¿ç®—ã€Œå¹¶è¡Œè®¡ç®—ã€çš„ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥é«˜æ•ˆåœ°åšä¸€äº›å’Œé›†åˆæœ‰å…³çš„è¿ç®—ã€‚æŒ‰ç…§å¸¸è§çš„åº”ç”¨åœºæ™¯ï¼Œå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å››ç±»ï¼š

#### ä¸€ã€é›†åˆä¸é›†åˆ
| æœ¯è¯­    | é›†åˆ           | ä½è¿ç®—       | é›†åˆç¤ºä¾‹                                 | ä½è¿ç®—ç¤ºä¾‹              |
| ----- | ------------ | --------- | ------------------------------------ | ------------------ |
| äº¤é›†    | ğ´ âˆ© ğµ      | a & b     | {0, 2, 3} âˆ© {0, 1, 2} = {0, 2}       | 1101 & 0111 = 0101 |
| å¹¶é›†    | ğ´ âˆª ğµ      | a âˆ£ b     | {0, 2, 3} âˆª {0, 1, 2} = {0, 1, 2, 3} | 1101 âˆ£ 0111 = 1111 |
| å¯¹ç§°å·®   | ğ´ Î” ğµ      | a âŠ• b     | {0, 2, 3} Î” {0, 1, 2} = {1, 3}       | 1101 âŠ• 0111 = 1010 |
| å·®     | ğ´ âˆ– ğµ      | a & âˆ¼b    | {0, 2, 3} âˆ– {1, 2} = {0, 3}          | 1101 & 1001 = 1001 |
| å·®ï¼ˆå­é›†ï¼‰ | ğ´ âˆ– ğµ, BâŠ†A | a âŠ• b     | {0, 2, 3} âˆ– {0, 2} = {3}             | 1101 âŠ• 0101 = 1000 |
| åŒ…å«äº   | ğ´ âŠ† ğµ      | a & b = a | {0, 2} âŠ† {0, 2, 3}                   | 0101 & 1101 = 0101 |
|       |              | a âˆ£ b = b |                                      | 0101 âˆ£ 1101 = 1101 |

#### äºŒã€é›†åˆä¸å…ƒç´ 

| æœ¯è¯­           | é›†åˆ                                  | ä½è¿ç®—                        |
| ------------ | ----------------------------------- | -------------------------- |
| ç©ºé›†           | $\phi$                              | 0                          |
| å•å…ƒç´ é›†åˆ        | $\{ğ‘–\}$                            | $1 << ğ‘–$                  |
| å…¨é›†           | $ğ‘ˆ = \{0, 1, 2, â€¦, ğ‘› âˆ’ 1\}$       | $(1 << ğ‘›) âˆ’ 1$            |
| è¡¥é›†           | $\complement_{U} S = U \setminus S$ | $((1 << ğ‘›) âˆ’ 1) \oplus s$ |
| å±äº           | $ğ‘– \in ğ‘†$                         | $(s >> ğ‘–) \& 1 = 1$       |
| ä¸å±äº          | $ğ‘– \notin ğ‘†$                      | $(s >> ğ‘–) \& 1 = 0$       |
| æ·»åŠ å…ƒç´          | $S \cup \{ğ‘–\}$                     | $s \mid (1 << ğ‘–)$         |
| åˆ é™¤å…ƒç´          | $S \setminus \{ğ‘–\}$                | $s \& \sim (1 << ğ‘–)$      |
| åˆ é™¤å…ƒç´ ï¼ˆä¸€å®šåœ¨é›†åˆä¸­ï¼‰ | $S \setminus \{ğ‘–\}, ğ‘– \in S$      | $s \oplus (1 << ğ‘–)$       |
| åˆ é™¤æœ€å°å…ƒç´        |                                     | $s \& (s - 1)$             |
#### ä¸‰ã€éå†é›†åˆ
```python
for i in range(n): 
	if (s >> i) & 1: 
```

#### å››ã€æšä¸¾é›†åˆ

æšä¸¾æ‰€æœ‰é›†åˆ
```python
for i in range(1<<n):
```

æšä¸¾ç»™å®šé›†åˆçš„éç©ºå­é›†
```python
sub = s 
while sub: # å¤„ç† sub çš„é€»è¾‘ 
	sub = (sub - 1) & s
```

# A çº¿æ€§ç»“æ„
## 1 é“¾è¡¨
### 1. å•å‘é“¾è¡¨
ç»“æ„ï¼šæ¯ä¸ªèŠ‚ç‚¹åŒ…å« `val`ï¼ˆæ•°æ®ï¼‰å’Œ `next` ï¼ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼‰
```python
class ListNode:
    def __init__(self, val=0, next=None):
        self.val = val
        self.next = next
```

ç‰¹ç‚¹ï¼šåªèƒ½å•å‘éå†

ç›¸å…³ç®—æ³•ï¼š
éå†
```python
cur=head
while cur:
	########
	cur=cur.next
```
æ’å…¥ã€åˆ é™¤è¿™äº›åŸºæœ¬æ“ä½œ
```python
#ä»¥åˆ é™¤ä¸ºä¾‹
dummy=ListNode()
dummy.next=head
cur=dummy
while cur.next:
	if cur.next.val==val:
		cur.next=cur.next.next
	else:
		cur=cur.next
```
- è¿™é‡Œç”¨åˆ°äº†å“¨å…µèŠ‚ç‚¹ `dummy` ä¸ºçš„æ˜¯ç»Ÿä¸€åˆ é™¤çš„æ“ä½œï¼Œè€Œé¿å…å¯¹è¾¹ç•Œçš„å¤„ç†ï¼ˆä¸€èˆ¬éœ€è¦å¯¹é“¾è¡¨è¿›è¡Œä¿®æ”¹çš„ï¼Œç”¨å“¨å…µèŠ‚ç‚¹éƒ½å¯ä»¥ç®€åŒ–é—®é¢˜ï¼‰
- ä¸æ­¤åŒæ—¶ï¼Œwhile çš„åˆ¤æ–­ä¹Ÿä¸ä¸€æ ·ï¼Œè¿™æ˜¯å› ä¸ºè¦å¯¹èŠ‚ç‚¹æœ¬èº«è¿›è¡Œæ“ä½œï¼Œæ­¤æ—¶ç”¨ `while cur.next:`ï¼Œå¦‚æœæ˜¯éå†èŠ‚ç‚¹ç”¨ `while cur:`

åè½¬é“¾è¡¨
```python
pre=None
cur=head
while cur is not None:
	pre,pre.next,cur=cur,pre,cur.next
```

åˆå¹¶é“¾è¡¨

å¿«æ…¢æŒ‡é’ˆï¼ˆå¯»æ‰¾ä¸­é—´èŠ‚ç‚¹ã€æ£€æµ‹ç¯å½¢é“¾è¡¨ï¼‰

### 2. åŒå‘é“¾è¡¨
ç»“æ„ï¼šå¢åŠ äº† `prev` æŒ‡å‘å‰é©±èŠ‚ç‚¹
```python
class ListNode:
    def __init__(self, val=0, prev=None, next=None):
        self.val = val
        self.prev = prev
        self.next = next
```

### 3. å“¨å…µèŠ‚ç‚¹
åœ¨å¤´èŠ‚ç‚¹å‰é¢åŠ å…¥ä¸€ä¸ªä¸å«æ•°æ®çš„å“¨å…µèŠ‚ç‚¹ `dummy node`
å¥½å¤„ï¼šèƒ½å¤Ÿç»Ÿä¸€åˆ é™¤/æ’å…¥çš„é€»è¾‘ï¼Œè€Œä¸ç”¨è€ƒè™‘è¾¹ç•Œæƒ…å†µ

| **åœºæ™¯**                  | **ä½œç”¨**                               | **ç»å…¸é—®é¢˜**                          |
|---------------------------|---------------------------------------|---------------------------------------|
| å¤´èŠ‚ç‚¹å¯èƒ½è¢«ä¿®æ”¹/åˆ é™¤      | é¿å…ç©ºæŒ‡é’ˆæˆ–é¢å¤–åˆ¤æ–­                   | åˆ é™¤èŠ‚ç‚¹ã€åè½¬é“¾è¡¨ã€åˆå¹¶é“¾è¡¨           |
| éœ€è¦è¿”å›æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹     | ä¿ç•™å¯¹çœŸå®å¤´èŠ‚ç‚¹çš„å¼•ç”¨                 | åˆ†éš”é“¾è¡¨ã€é‡æ’é“¾è¡¨                    |
| æ“ä½œæ¶‰åŠå‰é©±èŠ‚ç‚¹           | æä¾›ç»Ÿä¸€çš„å‰é©±èµ·ç‚¹ï¼ˆå¦‚ `dummy.next`ï¼‰ | åˆ é™¤å€’æ•°ç¬¬ N ä¸ªèŠ‚ç‚¹ã€åè½¬é“¾è¡¨åŒºé—´        |

**æ ¸å¿ƒæ€æƒ³**ï¼šé€šè¿‡æ·»åŠ å†—ä½™èŠ‚ç‚¹ï¼Œå°†ç‰¹æ®Š case è½¬åŒ–ä¸ºä¸€èˆ¬ caseï¼Œå‡å°‘è¾¹ç•Œåˆ¤æ–­ã€‚

## 2 æ ˆçš„ä½¿ç”¨

### â… ä¸­åºè¡¨è¾¾å¼è½¬æ¢ ï¼ˆè°ƒåº¦åœºç®—æ³•ï¼‰
å‡è®¾ä¸­ç¼€è¡¨è¾¾å¼æ˜¯ç”±ç©ºæ ¼åˆ†éš”çš„æ ‡è®°å­—ç¬¦ä¸²ã€‚æ“ä½œç¬¦æ ‡è®°åŒ…æ‹¬\*, /, + å’Œ -ï¼Œä»¥åŠå·¦å³æ‹¬å· ( å’Œ )ã€‚æ“ä½œæ•°æ ‡è®°æ˜¯å•å­—ç¬¦æ ‡è¯†ç¬¦ A, B, C ç­‰ç­‰ã€‚éµå¾ªä»¥ä¸‹æ­¥éª¤å¯ä»¥äº§ç”ŸæŒ‰åç¼€é¡ºåºæ’åˆ—çš„æ ‡è®°å­—ç¬¦ä¸²ï¼š

1. åˆ›å»ºä¸€ä¸ªåä¸º `opstack` çš„ç©ºæ ˆç”¨äºå­˜æ”¾æ“ä½œç¬¦ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªç©ºåˆ—è¡¨ç”¨äºè¾“å‡ºã€‚
2. ä½¿ç”¨å­—ç¬¦ä¸²æ–¹æ³• `split` å°†è¾“å…¥çš„ä¸­ç¼€å­—ç¬¦ä¸²è½¬æ¢æˆåˆ—è¡¨ã€‚
3. ä»å·¦åˆ°å³æ‰«ææ ‡è®°åˆ—è¡¨ï¼š
   - å¦‚æœæ ‡è®°æ˜¯æ“ä½œæ•°ï¼Œåˆ™å°†å…¶é™„åŠ åˆ°è¾“å‡ºåˆ—è¡¨çš„æœ«å°¾ã€‚
   - å¦‚æœæ ‡è®°æ˜¯å·¦æ‹¬å·ï¼Œåˆ™å°†å…¶å‹å…¥ `opstack` æ ˆä¸­ã€‚
   - å¦‚æœæ ‡è®°æ˜¯å³æ‹¬å·ï¼Œåˆ™ä» `opstack` ä¸­å¼¹å‡ºå…ƒç´ ç›´åˆ°ç§»é™¤ç›¸åº”çš„å·¦æ‹¬å·ä¸ºæ­¢ï¼Œå¹¶å°†æ¯ä¸ªæ“ä½œç¬¦é™„åŠ åˆ°è¾“å‡ºåˆ—è¡¨çš„æœ«å°¾ã€‚
   - å¦‚æœæ ‡è®°æ˜¯æ“ä½œç¬¦ \*, /, + æˆ– -ï¼Œåˆ™å°†å…¶å‹å…¥ `opstack` æ ˆä¸­ã€‚ä½†æ˜¯ï¼Œé¦–å…ˆç§»é™¤å·²åœ¨ `opstack` ä¸Šä¸”å…·æœ‰æ›´é«˜æˆ–ç›¸åŒä¼˜å…ˆçº§çš„æ‰€æœ‰æ“ä½œç¬¦ï¼Œå¹¶å°†å®ƒä»¬é™„åŠ åˆ°è¾“å‡ºåˆ—è¡¨çš„æœ«å°¾ã€‚
4. å½“è¾“å…¥è¡¨è¾¾å¼è¢«å®Œå…¨å¤„ç†åï¼Œæ£€æŸ¥ `opstack`ã€‚æ ˆä¸Šä»»ä½•å‰©ä½™çš„æ“ä½œç¬¦éƒ½å¯ä»¥è¢«ç§»é™¤å¹¶é™„åŠ åˆ°è¾“å‡ºåˆ—è¡¨çš„æœ«å°¾ã€‚

 <mark>å…³äºæ ˆä½¿ç”¨çš„é‡è¦åŸåˆ™</mark>

ã€æå† é» 24 å·¥å­¦é™¢ã€‘

1. **æ ˆçš„åŸºæœ¬ç”¨é€”æ˜¯ç”¨äºâ€œç­‰å¾…â€**ã€‚å…·ä½“æ¥è¯´ï¼Œå½“é‡åˆ°ä¸€æ¡æŒ‡ä»¤ï¼Œè€Œè¿™æ¡æŒ‡ä»¤çš„æ“ä½œä¾èµ–äºåç»­çš„æŒ‡ä»¤æ—¶ï¼Œå¯ä»¥é€‰æ‹©å°†è¿™æ¡æŒ‡ä»¤å…ˆå…¥æ ˆï¼Œâ€œç¨ä½œç­‰å¾…â€ï¼Œç›´åˆ°éå†åˆ°åé¢éƒ¨åˆ†äº†è§£åˆ°å…·ä½“å¦‚ä½•æ“ä½œåå†åˆ©ç”¨ `pop` æ–¹æ³•å›è¿‡å¤´æ¥å¤„ç†è¯¥æŒ‡ä»¤ã€‚è¿™æ˜¯æ ˆä½¿ç”¨çš„æ€»ä½“åŸåˆ™ã€‚

2. **æ ˆä¸æ‹¬å·åŒ¹é…çš„å…³ç³»å¯†åˆ‡**ã€‚å¾ˆå¤šæ¶‰åŠæ ˆçš„é—®é¢˜éƒ½æ¶‰åŠåˆ°æ‹¬å·åŒ¹é…é—®é¢˜ï¼Œå…¶æ ¸å¿ƒåœ¨äºè¯†åˆ«ä¸€å¯¹æ‹¬å·å†…æ‰€åŒ…å«çš„å†…å®¹ã€‚è¿™æ—¶åŒæ ·å¯ä»¥åº”ç”¨ç¬¬ä¸€æ¡åŸåˆ™ã€‚å½“æˆ‘ä»¬é‡åˆ°å·¦æ‹¬å·æ—¶ï¼Œç”±äºä¸æ¸…æ¥šå®ƒå¯¹åº”çš„å³æ‹¬å·åœ¨å“ªé‡Œï¼Œæ‰€ä»¥å…ˆå°†å…¶å…¥æ ˆã€‚ç­‰åˆ°é‡åˆ°å³æ‹¬å·æ—¶ï¼Œå†å›å¤´æ‰¾åˆ°åŒ¹é…çš„å·¦æ‹¬å·ï¼Œå¹¶è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚

3. **ç†è§£æ ˆç›¸å…³é—®é¢˜æ—¶ï¼Œç ”ç©¶ç»™å®šç¤ºä¾‹éå¸¸é‡è¦**ã€‚åœ¨è§£å†³æ ˆç›¸å…³çš„é—®é¢˜ä¹‹å‰ï¼Œå…ˆå¤§è‡´ç ”ç©¶ä¸€ä¸‹ç»™å‡ºçš„ç¤ºä¾‹ï¼Œåˆ†æç­”æ¡ˆå’Œè¾“å…¥æ•°æ®ï¼ˆæˆ–ç§°â€œå¯†æ–‡â€ï¼‰ä¹‹é—´çš„å…³ç³»éå¸¸æœ‰å¸®åŠ©ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸­åºè¡¨è¾¾å¼è½¬ååºè¡¨è¾¾å¼çš„é¢˜ç›®ä¸­ï¼Œé€šè¿‡è§‚å¯Ÿè½¬æ¢åçš„ç»“æœå¯ä»¥å‘ç°æ•°å­—çš„é¡ºåºä¿æŒä¸å˜ï¼Œè€Œå¯¹äºæ¯ä¸€ä¸ªè¿ç®—å•å…ƒï¼Œç¬¦å·æ€»æ˜¯ä½äºæœ€åã€‚è¿™è¡¨æ˜ï¼šæ•°å­—ä¸éœ€è¦å…¥æ ˆï¼Œå› ä¸ºå®ƒä»¬çš„æ“ä½œä¸ä¾èµ–äºåç»­çš„æŒ‡ä»¤ï¼Œå¯ä»¥ç›´æ¥æ·»åŠ åˆ°ç»“æœä¸­ã€‚ç›¸åï¼Œè¿ç®—ç¬¦éœ€è¦å…¥æ ˆï¼Œå› ä¸ºæˆ‘ä»¬å°šæœªç¡®å®šè¯¥è¿ç®—ç¬¦æ‰€å±çš„è¿ç®—å•å…ƒå°†åœ¨ä½•å¤„ç»“æŸã€‚ä¸€æ—¦æ ¹æ®æŸäº›æ¡ä»¶åˆ¤æ–­å‡ºè¿ç®—å•å…ƒç»“æŸï¼Œå°±å¯ä»¥æœ‰åºåœ°å°†è¿ç®—ç¬¦ä»æ ˆä¸­å¼¹å‡ºï¼Œå¹¶åŠ å…¥åˆ°ç»“æœä¸­ã€‚
- ä¸­åºè¡¨è¾¾å¼â†’ååºè¡¨è¾¾å¼â†’è§£ææ ‘
- å»ºç«‹è§£ææ ‘çš„è¿‡ç¨‹å®é™…ä¸Šå°±æ˜¯æ±‚å€¼çš„è¿‡ç¨‹
### â…¡ æ ˆæ¨¡æ‹Ÿ DFS

#### 1. é€šç”¨æ ˆæ¨¡æ‹Ÿ DFS æ¡†æ¶
ä»¥ä¸‹æ˜¯é€‚ç”¨äºå¤šç§éå†é¡ºåºçš„é€šç”¨ä»£ç æ¡†æ¶ï¼š

```python
def dfs_with_stack(root):
    stack = [(root, False)]  # (node, visited)
    while stack:
        node, visited = stack.pop()
        if visited:
            # ååºå¤„ç†
            process_node_post(node)
        else:
            # å‰åºå¤„ç†
            process_node_pre(node)
            
            # å‹æ ˆé¡ºåºå†³å®šéå†é¡ºåº
            # å‰åº/ä¸­åº/ååºé€šè¿‡è°ƒæ•´å‹æ ˆé¡ºåºå®ç°
            for child in reversed(get_children(node)):
                stack.append((child, False))
            stack.append((node, True))  # æ ‡è®°ä¸ºå·²è®¿é—®ï¼Œå¾…ååºå¤„ç†
```

#### 2. ä¸åŒéå†é¡ºåºçš„å®ç°

##### (1) å‰åºéå†ï¼ˆPre-orderï¼‰
å¤„ç†é¡ºåºï¼šæ ¹ â†’ å·¦ â†’ å³  
å‹æ ˆé¡ºåºï¼šå³ â†’ å·¦ â†’ æ ¹ï¼ˆæ ‡è®°ï¼‰

```python
def preorder(root):
    stack = [(root, False)]
    while stack:
        node, visited = stack.pop()
        if not visited:
            print(node.val)  # å‰åºå¤„ç†
            for child in reversed(node.children):
                stack.append((child, False))
```

##### (2) ä¸­åºéå†ï¼ˆIn-orderï¼ŒäºŒå‰æ ‘ç‰¹æœ‰ï¼‰
å¤„ç†é¡ºåºï¼šå·¦ â†’ æ ¹ â†’ å³  
å‹æ ˆé¡ºåºï¼šå³ â†’ æ ¹ï¼ˆæ ‡è®°ï¼‰â†’ å·¦

```python
def inorder(root):
    stack = [(root, False)]
    while stack:
        node, visited = stack.pop()
        if not visited:
            if node.right:
                stack.append((node.right, False))
            stack.append((node, True))  # æ ‡è®°
            if node.left:
                stack.append((node.left, False))
        else:
            print(node.val)  # ä¸­åºå¤„ç†
```

##### (3) ååºéå†ï¼ˆPost-orderï¼‰
å¤„ç†é¡ºåºï¼šå·¦ â†’ å³ â†’ æ ¹  
å‹æ ˆé¡ºåºï¼šæ ¹ï¼ˆæ ‡è®°ï¼‰â†’ å³ â†’ å·¦

```python
def postorder(root):
    stack = [(root, False)]
    while stack:
        node, visited = stack.pop()
        if not visited:
            stack.append((node, True))  # æ ‡è®°
            for child in reversed(node.children):
                stack.append((child, False))
        else:
            print(node.val)  # ååºå¤„ç†
```

#### 3. å¤æ‚åº”ç”¨ç¤ºä¾‹

##### (1) è®¡ç®—å­æ ‘å¤§å°
```python
def subtree_sizes(root):
    stack = [(root, False)]
    size = [0] * (n + 1)
    while stack:
        node, visited = stack.pop()
        if not visited:
            stack.append((node, True))
            for child in reversed(node.children):
                stack.append((child, False))
        else:
            size[node] = 1 + sum(size[child] for child in node.children)
    return size
```

##### (2) è®°å½•æ ¹åˆ°å¶å­çš„è·¯å¾„
```python
def all_paths(root):
    stack = [(root, False, [])]
    paths = []
    while stack:
        node, visited, path = stack.pop()
        if not visited:
            new_path = path + [node.val]
            if not node.children:  # å¶å­èŠ‚ç‚¹
                paths.append(new_path)
            stack.append((node, True, new_path))
            for child in reversed(node.children):
                stack.append((child, False, new_path))
    return paths
```

#### 4. æ€§èƒ½ä¼˜åŒ–æŠ€å·§

1. **åŒæ ˆæ³•**ï¼šå¯¹äºååºéå†ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªæ ˆæ¥é¿å…æ ‡è®°
   ```python
   def postorder_two_stacks(root):
       stack1 = [root]
       stack2 = []
       while stack1:
           node = stack1.pop()
           stack2.append(node)
           for child in node.children:
               stack1.append(child)
       while stack2:
           print(stack2.pop().val)
   ```

2. **Morris éå†**ï¼šå¯¹äºäºŒå‰æ ‘ï¼Œå¯ä»¥åšåˆ° O (1) ç©ºé—´å¤æ‚åº¦

#### 5. å¸¸è§é—®é¢˜è§£å†³

| é—®é¢˜ç±»å‹               | æ ˆæ¨¡æ‹Ÿæ–¹æ¡ˆ                          |
|-----------------------|-----------------------------------|
| åˆ¤æ–­æ ‘å¯¹ç§°             | åŒæ—¶è¿›è¡Œå·¦å³å­æ ‘çš„é•œåƒ DFS            |
| æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆLCAï¼‰    | ååºéå†æ—¶è®°å½•ç¥–å…ˆä¿¡æ¯               |
| æ ‘çš„æœ€å¤§æ·±åº¦           | è®°å½•å½“å‰æ·±åº¦å’Œæœ€å¤§æ·±åº¦               |
| è·¯å¾„æ€»å’Œ               | æºå¸¦å½“å‰è·¯å¾„å’Œçš„ç›®æ ‡å€¼               |

#### 6. å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO (N) æ¯ä¸ªèŠ‚ç‚¹å¤„ç†ä¸€æ¬¡
- ç©ºé—´å¤æ‚åº¦ï¼šO (H) æ ˆçš„æœ€å¤§æ·±åº¦ä¸ºæ ‘é«˜
  - æœ€åæƒ…å†µï¼ˆé“¾çŠ¶æ ‘ï¼‰ï¼šO (N)
  - æœ€å¥½æƒ…å†µï¼ˆå¹³è¡¡æ ‘ï¼‰ï¼šO (logN)

## 3 å…¶ä»–
### 1. KMP ç®—æ³•
é—®é¢˜ï¼šç»™å®šæ¨¡å¼ä¸²ï¼Œåœ¨å­—ç¬¦ä¸²ä¸­å¯»æ‰¾æ˜¯å¦å­˜åœ¨æ¨¡å¼ä¸²
æ€æƒ³ï¼šé€šè¿‡å»ºç«‹ `next` æ•°ç»„å›æ»šæ¨¡å¼ä¸²ï¼Œä½¿å¾—ä¸ç”¨å›æº¯å­—ç¬¦ä¸²æŒ‡é’ˆ

```python
# ç”Ÿæˆ next æ•°ç»„
# next[j] è¡¨ç¤ºä¸‹æ ‡ j ä¹‹å‰çš„æ¨¡å¼ä¸² p ä¸­ï¼Œæœ€é•¿ç›¸ç­‰å‰åç¼€çš„é•¿åº¦
def generateNext(p: str):
    m = len(p)
    next = [0 for _ in range(m)]  # åˆå§‹åŒ–æ•°ç»„å…ƒç´ å…¨éƒ¨ä¸º 0
    
    left = 0         # left è¡¨ç¤ºå‰ç¼€ä¸²å¼€å§‹æ‰€åœ¨çš„ä¸‹æ ‡ä½ç½®
    for right in range(1, m):  # right è¡¨ç¤ºåç¼€ä¸²å¼€å§‹æ‰€åœ¨çš„ä¸‹æ ‡ä½ç½®
        while left > 0 and p[left] != p[right]: 
        # åŒ¹é…ä¸æˆåŠŸ, left è¿›è¡Œå›é€€, left == 0 æ—¶åœæ­¢å›é€€
            left = next[left - 1]    # left è¿›è¡Œå›é€€æ“ä½œ
        if p[left] == p[right]:         
        # åŒ¹é…æˆåŠŸï¼Œæ‰¾åˆ°ç›¸åŒçš„å‰åç¼€ï¼Œå…ˆè®© left += 1ï¼Œæ­¤æ—¶ left ä¸ºå‰ç¼€é•¿åº¦
            left += 1
        next[right] = left              
        # è®°å½•å‰ç¼€é•¿åº¦ï¼Œæ›´æ–° next[right], ç»“æŸæœ¬æ¬¡å¾ªç¯, right += 1

    return next

# KMP åŒ¹é…ç®—æ³•ï¼ŒT ä¸ºæ–‡æœ¬ä¸²ï¼Œp ä¸ºæ¨¡å¼ä¸²
def kmp(T: str, p: str) -> int:
    n, m = len(T), len(p)
    
    next = generateNext(p)   # ç”Ÿæˆ next æ•°ç»„
    
    j = 0                    # j ä¸ºæ¨¡å¼ä¸²ä¸­å½“å‰åŒ¹é…çš„ä½ç½®
    for i in range(n):       # i ä¸ºæ–‡æœ¬ä¸²ä¸­å½“å‰åŒ¹é…çš„ä½ç½®
        while j > 0 and T[i] != p[j]:           
        # å¦‚æœæ¨¡å¼ä¸²å‰ç¼€åŒ¹é…ä¸æˆåŠŸ, å°†æ¨¡å¼ä¸²è¿›è¡Œå›é€€, j == 0 æ—¶åœæ­¢å›é€€
            j = next[j - 1]
        if T[i] == p[j]:  
        # å½“å‰æ¨¡å¼ä¸²å‰ç¼€åŒ¹é…æˆåŠŸï¼Œä»¤ j += 1ï¼Œç»§ç»­åŒ¹é…
            j += 1
        if j == m:                              
        # å½“å‰æ¨¡å¼ä¸²å®Œå…¨åŒ¹é…æˆåŠŸï¼Œè¿”å›åŒ¹é…å¼€å§‹ä½ç½®
            return i - j + 1
    return -1       # åŒ¹é…å¤±è´¥ï¼Œè¿”å› -1
            

```

### 2. æ’åºç®—æ³•
Python å†…ç½®äº†éå¸¸å¼ºå¤§çš„æ’åºåŠŸèƒ½ï¼Œå¹¶ä¸”å¯¹äºå…ƒç»„çš„æ’åºæ˜¯æ ¹æ®é¡ºåºè¿›è¡Œçš„ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬æƒ³è¦è¿›è¡Œå¤šæ•°æ®çš„æ’åºæ—¶
```python
arr.sort(key=lambda x:(x[0],x[1],x[2]))
```
# B æ ‘çŠ¶ç»“æ„
## 1 æ ‘çš„è¡¨ç¤ºæ–¹æ³•
ç”¨ç±»è¡¨ç¤º
```python
class Treenode:
	def __init__(self,val):
		self.val=val
		self.left=None
		self.right=None
		###self.childrem=[](å¯¹äºå¤šå‰æ ‘)
```
ç”¨é‚»æ¥è¡¨è¡¨ç¤º
ä¸€ä¸ªèŠ‚ç‚¹å¯¹åº”ä¸€ä¸ª `key`ï¼Œç„¶åä»–çš„ `value` å¯¹åº”ä»–çš„å­©å­
- å»ºæ ‘æœ‰æ—¶è¦å–„äºåˆ©ç”¨æ ˆçš„ç»“æ„ï¼ˆæ€è€ƒä»€ä¹ˆæ—¶å€™å…¥æ ˆä»€ä¹ˆæ—¶å€™å¼¹å‡ºï¼‰
## 2 å¸¸ç”¨æ“ä½œ
å¯¹äºæ ‘ï¼Œæœ€é‡è¦çš„æ˜¯**å¤åˆ¶**ï¼Œå¯¹äºä¸€æ£µæ ‘çš„æ“ä½œå¯ä»¥åŒæ ·ç”¨åœ¨å­æ ‘ä¸Šï¼Œæ‰€ä»¥**é€’å½’**æ˜¯æœ€å¸¸ç”¨çš„å†™æ³•
> å…³äºæ ‘çš„éå†ï¼ˆæ±‚ä¸€äº›æ ‘å†…å…ƒç´ çš„æ€§è´¨ï¼‰ï¼Œä¸€èˆ¬éƒ½éœ€è¦éå†æ ‘ï¼Œè¿™æ—¶å€™å°±å¾€å››ç§éå†ç»“æ„ä¸Šæ€è€ƒï¼Œæ€ä¹ˆéå†ï¼Œåœ¨éå†çš„æ—¶å€™æ€ä¹ˆæ“ä½œï¼š
> 1. å›æº¯ä»€ä¹ˆæ ·çš„å€¼ï¼Ÿ
> 2. æ˜¯å¦æœ‰å…¨å±€å˜é‡å¯ä»¥ä¸ç”¨å‚ä¸å›æº¯
> **æ ‘åœ¨ dfs çš„æ—¶å€™æœ‰é€’å’Œå½’ä¸¤ä¸ªè¿‡ç¨‹ï¼Œå‰ä¸­ååºçš„åŒºåˆ«ä¾¿æ˜¯åœ¨å½’ä¸Šåšæ–‡ç« **
### â…  éå†ï¼ˆTraversalï¼‰
å‰åºéå†ï¼ˆPre-order Traversalï¼‰
- æ ¹â†’å·¦â†’å³
```python
def preorder_traversal(root):
    if root:
        print(root.val)  # è®¿é—®æ ¹èŠ‚ç‚¹
        preorder_traversal(root.left)  # é€’å½’éå†å·¦å­æ ‘
        preorder_traversal(root.right)  # é€’å½’éå†å³å­æ ‘
```

ä¸­åºéå†ï¼ˆIn-order Traversalï¼‰
- å·¦â†’æ ¹â†’å³
```python
def inorder_traversal(root):
    if root:
        inorder_traversal(root.left)  # é€’å½’éå†å·¦å­æ ‘
        print(root.val)  # è®¿é—®æ ¹èŠ‚ç‚¹
        inorder_traversal(root.right)  # é€’å½’éå†å³å­æ ‘
```

ååºéå†ï¼ˆPost-order Traversalï¼‰
- å·¦â†’å³â†’æ ¹
```python
def postorder_traversal(root):
    if root:
        postorder_traversal(root.left)  # é€’å½’éå†å·¦å­æ ‘
        postorder_traversal(root.right)  # é€’å½’éå†å³å­æ ‘
        print(root.val)  # è®¿é—®æ ¹èŠ‚ç‚¹
```

æ³¨ï¼š
- ä¸­åº+å‰åº/ååºèƒ½å”¯ä¸€ç¡®å®šäºŒå‰æ ‘ï¼Œä¸­åºæ ‡æ˜äº†å·¦å³å­æ ‘ä½ç½®ï¼Œå‰/ååºæ ‡æ˜äº†æ ¹èŠ‚ç‚¹ä½ç½®

å±‚åºéå†ï¼šBFS
```python
def level_order_traversal(root):
    if root is None:
        return []
    result = []
    queue = deque([root])
    while queue:
        node = queue.popleft()
        result.append(node.data)
        if node.left:
            queue.append(node.left)
        if node.right:
            queue.append(node.right)
    return result
```

### â…¡ æ±‚æ ‘çš„é«˜åº¦ï¼ˆæ·±åº¦ï¼‰

```python
def tree_height(root):
    if not root:
        return 0
    else:
        left_height = tree_height(root.left)
        right_height = tree_height(root.right)
        return max(left_height, right_height) + 1
```

### â…¢ ç¿»è½¬äºŒå‰æ ‘

```python
def invert_tree(root):
    if root:
        root.left, root.right = invert_tree(root.right), invert_tree(root.left)
    return root
```

## 3 å„ç§æ ‘çš„åº”ç”¨

å®Œå…¨äºŒå‰æ ‘ï¼š
æŒ‡çš„æ˜¯é™¤æœ€åä¸€å±‚å¤–ï¼Œå…¶ä»–å±‚å®Œå…¨è¢«å æ®ï¼Œæœ€åä¸€å±‚çš„èŠ‚ç‚¹éƒ½åœ¨å·¦ä¾§
è¡¨ç¤ºï¼š
é€šå¸¸é‡‡ç”¨æ•°ç»„å‚¨å­˜ï¼Œä¸ç”¨å ç”¨é¢å¤–çš„æŒ‡é’ˆç©ºé—´
- çˆ¶èŠ‚ç‚¹ `i//2`
- å·¦å­©å­ `2*i`
- å³å­©å­ `2*i+1`
ä¸‹é¢çš„ä¸‰ä¸ªä¾‹å­éƒ½æ˜¯å®Œå…¨äºŒå‰æ ‘çš„åº”ç”¨


### â…  å“ˆå¤«æ›¼ç¼–ç 
å“ˆå¤«æ›¼ç¼–ç æ˜¯æ ¹æ®å­—ç¬¦ä½¿ç”¨é¢‘ç‡ï¼ˆfreqï¼‰å»ºç«‹çš„ä¸€ç§æœ€ä¼˜çš„äºŒå‰ç¼–ç æ ‘
åŸºæœ¬æ€è·¯æ˜¯
1. ä¸ºæ¯ä¸ªå­—ç¬¦åˆ›é€ ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒåŒ…æ‹¬å€¼å’Œé¢‘ç‡ï¼Œå¹¶ä¸”æŒ‰é¢‘ç‡æ’åºåŠ å…¥å †ä¸­
2. å¼¹å‡ºä¸¤ä¸ªé¢‘ç‡æœ€å°çš„èŠ‚ç‚¹ï¼Œåˆå¹¶åå€¼ä¸º `None`, é¢‘ç‡ `freq=freq1+freq2`ï¼Œ`left=Node1`ï¼Œ`right=Node2` å†åŠ å…¥å †ä¸­
3. å¦‚æ­¤é‡å¤ï¼Œç›´åˆ°å †ä¸­åªå‰©ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œå°±æ­å»ºå®Œå“ˆå¤«æ›¼æ ‘
```python
import heapq
class Node():
    def __init__(self,val,freq):
        self.val = val
        self.freq = freq
        self.left = None
        self.right = None
    def __lt__(self, other):
        if self.freq==other.freq:
            return self.val<other.val
        return self.freq < other.freq

n=int(input())
heap=[]
for i in range(n):
    char,freq=input().split()
    freq=int(freq)
    heap.append(Node(char,freq))
heapq.heapify(heap)
while len(heap)>1:
    left=heapq.heappop(heap)
    right=heapq.heappop(heap)
    node=Node(min(left.val,right.val),left.freq+right.freq)
    node.left=left
    node.right=right
    heapq.heappush(heap,node)
tree=heapq.heappop(heap)
```

### â…¡ æœ€å°å †å»ºç«‹
æˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸€ä¸ªå †ç»“æ„ï¼Œä½¿å¾—çˆ¶èŠ‚ç‚¹å°äºå­èŠ‚ç‚¹ã€‚æ”¯æŒæ’å…¥ `insert` å’Œåˆ é™¤å¹¶è¿”å›æœ€å°å€¼ `delMin` çš„æ“ä½œ
æ€è·¯ï¼š
1. å †éœ€æ»¡è¶³çˆ¶èŠ‚ç‚¹å°äºå­èŠ‚ç‚¹ï¼Œè¿™éœ€è¦æˆ‘ä»¬åœ¨æ’å…¥å’Œåˆ é™¤çš„åŒæ—¶è¿›è¡Œç»´æŠ¤ï¼ˆæˆ‘ä»¬åˆ›é€ ä¸€ä¸ª `Heap` ç±»ï¼Œç”¨åˆ—è¡¨æ¥ç»´æŠ¤å †ï¼‰
2. `insert`ï¼šæˆ‘ä»¬å¯ä»¥å…ˆæ’å…¥åˆ°åˆ—è¡¨æœ«ç«¯ï¼Œç„¶åä¸æ–­ä¸çˆ¶èŠ‚ç‚¹æ¯”è¾ƒï¼Œä½¿å¾—æ•°æ®ä¸Šæµ® `up`
3. `delMin`ï¼šå¯ä»¥å…ˆå–å‡ºåˆ—è¡¨å¤´éƒ¨è¾“å‡ºï¼Œå¹¶ä»¤å¤´éƒ¨ä¸ºæœ«å°¾çš„æ•°ï¼Œå†å¼¹å‡ºï¼Œæœ€åè®©è¿™ä¸ªå¤´éƒ¨çš„æ•°ä¸‹æ²‰ `down`ï¼ŒåŠ¨æ€ç»´æŠ¤å †çš„æœ‰åº

```python
class Heap:
    def __init__(self):
        self.arr = [0]  # å †çš„å­˜å‚¨æ•°ç»„ï¼Œç´¢å¼•ä»1å¼€å§‹
        self.size = 0    # å †çš„å¤§å°

    def up(self, i):
        # ä¸Šæµ®æ“ä½œï¼Œç»´æŠ¤å †çš„æ€§è´¨
        while i // 2 > 0:
            if self.arr[i] < self.arr[i // 2]:  # å¦‚æœå½“å‰èŠ‚ç‚¹æ¯”çˆ¶èŠ‚ç‚¹å°
                self.arr[i], self.arr[i // 2] = self.arr[i // 2], self.arr[i]  # äº¤æ¢
            i = i // 2  # ç»§ç»­å‘ä¸Šæ£€æŸ¥

    def insert(self, i):
        # æ’å…¥å…ƒç´ 
        self.arr.append(i)
        self.size += 1
        self.up(self.size)  # ä¸Šæµ®æ–°æ’å…¥çš„å…ƒç´ 

    def down(self, i):
        # ä¸‹æ²‰æ“ä½œï¼Œç»´æŠ¤å †çš„æ€§è´¨
        while i * 2 <= self.size:
            mc = self.minChild(i)  # æ‰¾åˆ°è¾ƒå°çš„å­èŠ‚ç‚¹
            if self.arr[i] > self.arr[mc]:  # å¦‚æœå½“å‰èŠ‚ç‚¹æ¯”å­èŠ‚ç‚¹å¤§
                self.arr[i], self.arr[mc] = self.arr[mc], self.arr[i]  # äº¤æ¢
            i = mc  # ç»§ç»­å‘ä¸‹æ£€æŸ¥

    def minChild(self, i):
        # è¿”å›è¾ƒå°çš„å­èŠ‚ç‚¹çš„ç´¢å¼•
        if i * 2 + 1 > self.size:  # å¦‚æœå³å­èŠ‚ç‚¹ä¸å­˜åœ¨
            return i * 2
        if self.arr[i * 2] < self.arr[i * 2 + 1]:  # å·¦å­èŠ‚ç‚¹æ›´å°
            return i * 2
        else:  # å³å­èŠ‚ç‚¹æ›´å°
            return i * 2 + 1

    def delMin(self):
        # åˆ é™¤å¹¶è¿”å›å †é¡¶å…ƒç´ ï¼ˆæœ€å°å€¼ï¼‰
        res = self.arr[1]  # å †é¡¶å…ƒç´ 
        self.arr[1] = self.arr[self.size]  # å°†æœ€åä¸€ä¸ªå…ƒç´ ç§»åˆ°å †é¡¶
        self.arr.pop()  # åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ 
        self.size -= 1
        self.down(1)  # ä¸‹æ²‰æ–°çš„å †é¡¶å…ƒç´ 
        return res

h = Heap()
n = int(input())
for _ in range(n):
    inp = list(map(int, input().split()))
    if inp[0] == 1:
        h.insert(inp[1])  
    else:
        print(h.delMin())
```

### â…¢ äºŒå‰æœç´¢æ ‘
äºŒå‰æœç´¢æ ‘ï¼ˆBinary Search Treeï¼ŒBSTï¼‰ï¼Œå®ƒæ˜¯æ˜ å°„çš„å¦ä¸€ç§å®ç°ã€‚æˆ‘ä»¬æ„Ÿå…´è¶£çš„ä¸æ˜¯å…ƒç´ åœ¨æ ‘ä¸­çš„ç¡®åˆ‡ä½ç½®ï¼Œè€Œæ˜¯<mark>å¦‚ä½•åˆ©ç”¨äºŒå‰æ ‘ç»“æ„æä¾›é«˜æ•ˆçš„æœç´¢ã€‚</mark>

äºŒå‰æœç´¢æ ‘ä¾èµ–äºè¿™æ ·ä¸€ä¸ªæ€§è´¨ï¼š<mark>å°äºçˆ¶èŠ‚ç‚¹çš„é”®éƒ½åœ¨å·¦å­æ ‘ä¸­ï¼Œå¤§äºçˆ¶èŠ‚ç‚¹çš„é”®åˆ™éƒ½åœ¨å³å­æ ‘ä¸­ã€‚æˆ‘ä»¬ç§°è¿™ä¸ªæ€§è´¨ä¸ºäºŒå‰æœç´¢æ€§ã€‚</mark>
- è¿™æ ·æ„å‘³ç€ä¸€ä¸ªäºŒå‰æœç´¢æ ‘çš„ä¸­åºè¡¨è¾¾å¼å°±æ˜¯é¡ºåºæ’åˆ—

æ€è·¯ï¼šåˆ©ç”¨é€’å½’
```python
def insert(root, val):
    if not root:
        return TreeNode(val)
    if val < root.val:
        root.left = insert(root.left, val)
    elif val > root.val:
        root.right = insert(root.right, val)
    return root
```
### â…£ å‰ç¼€æ ‘

æ€è·¯ï¼š
1. åˆ›é€ ä¸€ä¸ªèŠ‚ç‚¹ç±»ï¼š1. å­—å…¸ä¿å­˜ä¸‹ä¸€ä¸ªå­—ç¬¦ 2. åˆ¤æ–­æ˜¯å¦ä¸ºç»“å°¾
2. å­—å…¸å¯ä»¥ç”¨åˆ—è¡¨æ›¿ä»£ï¼ˆç©ºé—´ä¼šå°‘ä¸€ç‚¹ï¼Ÿï¼‰
3. æ³¨æ„ï¼šå‰ç¼€æ ‘çš„å‰ææ˜¯**æŒ‰ç…§å­—ç¬¦é•¿åº¦æ’åº**

```python
class TrieNode:
    def __init__(self):
        self.children = {}  # å­—å…¸ä¿å­˜å­èŠ‚ç‚¹
        self.is_end_of_word = False  # æ ‡è®°æ˜¯å¦æ˜¯å•è¯ç»“å°¾

class Trie:
    def __init__(self):
        self.root = TrieNode()  # æ ¹èŠ‚ç‚¹

    def insert(self, word: str) -> None:
        current = self.root
        for char in word:
            if char not in current.children:
                current.children[char] = TrieNode()
            current = current.children[char]
        current.is_end_of_word = True  # æ ‡è®°å•è¯ç»“æŸ

    def search(self, word: str) -> bool:
        current = self.root
        for char in word:
            if char not in current.children:
                return False
            current = current.children[char]
        return current.is_end_of_word  # å¿…é¡»ç²¾ç¡®åŒ¹é…å•è¯ç»“å°¾

    def startsWith(self, prefix: str) -> bool:
        current = self.root
        for char in prefix:
            if char not in current.children:
                return False
            current = current.children[char]
        return True  # åªè¦å‰ç¼€å­˜åœ¨å³å¯


```

### â…¤ å¹¶æŸ¥é›†
å¹¶æŸ¥é›†æ˜¯ç”¨äºé«˜æ•ˆç®¡ç†é›†åˆçš„åˆå¹¶ä¸æŸ¥è¯¢
1. **`find(x)`**ï¼šæŸ¥æ‰¾å…ƒç´ Â `x`Â æ‰€å±çš„é›†åˆï¼ˆé€šå¸¸è¿”å›æ ¹èŠ‚ç‚¹ï¼‰ã€‚
    
2. **`union(x, y)`**ï¼šåˆå¹¶Â `x`Â å’ŒÂ `y`Â æ‰€åœ¨çš„é›†åˆã€‚
    
3. **è·¯å¾„å‹ç¼©**Â å’ŒÂ **æŒ‰ç§©åˆå¹¶**Â ä¼˜åŒ–ï¼Œä½¿æ“ä½œæ¥è¿‘Â O(1)ã€‚

ä¸ºäº†é«˜æ•ˆåœ°å®ç°å¹¶æŸ¥é›†æ“ä½œï¼Œé€šå¸¸ä¼šä½¿ç”¨<mark>æ ‘å½¢ç»“æ„</mark>æ¥è¡¨ç¤ºé›†åˆä¹‹é—´çš„å…³ç³»ã€‚<mark>æ¯ä¸ªé›†åˆå¯ä»¥ç”¨ä¸€ä¸ªæ ‘è¡¨ç¤ºï¼Œå…¶ä¸­æ ‘çš„æ ¹èŠ‚ç‚¹æ˜¯é›†åˆçš„ä»£è¡¨å…ƒç´ </mark>ï¼ˆå³ç®¡ç†ã€æœç´¢å’Œåˆå¹¶çˆ¶èŠ‚ç‚¹ï¼‰

ç®€åŒ–ç‰ˆæœ¬ï¼ˆå»æ‰æŒ‰ç§©åˆå¹¶ï¼‰ï¼š
```python
    def __init__(self, n):
        self.parent = list(range(n))  # åˆå§‹åŒ–æ¯ä¸ªå…ƒç´ çš„çˆ¶èŠ‚ç‚¹æ˜¯è‡ªå·±

    def find(self, x):
        if self.parent[x] != x:
            self.parent[x] = self.find(self.parent[x])  # è·¯å¾„å‹ç¼©
        return self.parent[x]

    def union(self, x, y):
        x_root = self.find(x)
        y_root = self.find(y)
        if x_root != y_root:
            self.parent[y_root] = x_root  
```

åŠ ä¸ŠæŒ‰ç§©åˆå¹¶ï¼š
```python
class DisjointSet:
    def __init__(self, n):
        self.parent = list(range(n))  # åˆå§‹åŒ–æ¯ä¸ªå…ƒç´ çš„çˆ¶èŠ‚ç‚¹æ˜¯è‡ªå·±
        self.rank = [0] * n          # æŒ‰ç§©åˆå¹¶ä¼˜åŒ–

    def find(self, x):
        if self.parent[x] != x:  # è·¯å¾„å‹ç¼©
            self.parent[x] = self.find(self.parent[x])
        return self.parent[x]

    def union(self, x, y):
        x_root = self.find(x)
        y_root = self.find(y)
        if x_root == y_root:  # å·²ç»åœ¨åŒä¸€é›†åˆ
            return
        # æŒ‰ç§©åˆå¹¶ï¼ˆå°æ ‘åˆå¹¶åˆ°å¤§æ ‘ï¼‰
        if self.rank[x_root] < self.rank[y_root]:
            self.parent[x_root] = y_root
        else:
            self.parent[y_root] = x_root
            if self.rank[x_root] == self.rank[y_root]:
                self.rank[x_root] += 1

```


### â…¥ æ ‘çŠ¶æ•°ç»„/äºŒå‰ç´¢å¼•æ ‘ï¼ˆFenwick Treeï¼‰

äºŒå‰ç´¢å¼•æ ‘ï¼ˆBinary Indexed Treeï¼‰ï¼Œåˆç§° Fenwick Treeï¼Œæ˜¯ä¸€ç§é«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼Œä¸»è¦ç”¨äº**åŠ¨æ€ç»´æŠ¤å‰ç¼€å’Œ**ä»¥åŠ**é«˜æ•ˆè®¡ç®—åŒºé—´å’Œ**ã€‚

1ï¼‰æ ¸å¿ƒåŠŸèƒ½ï¼š
- **å•ç‚¹æ›´æ–°**ï¼šåœ¨ O (log n) æ—¶é—´å†…ä¿®æ”¹æŸä¸ªå…ƒç´ çš„å€¼  
- **åŒºé—´æŸ¥è¯¢**ï¼šåœ¨ O (log n) æ—¶é—´å†…æŸ¥è¯¢å‰ i ä¸ªå…ƒç´ çš„å’Œ  

2ï¼‰å®ç°åŸç†

ä½¿ç”¨æ•°ç»„ `tree` ç»´æŠ¤ä¿¡æ¯ï¼š
- `tree[i]` ç®¡ç†åŸæ•°ç»„ `[i-lowbit(i)+1, i]` åŒºé—´çš„å’Œ  
- `lowbit(i)` è¡¨ç¤º i çš„äºŒè¿›åˆ¶ä¸­æœ€ä½ä½çš„ 1 æ‰€ä»£è¡¨çš„å€¼ 
- `tree[i]` çš„çˆ¶èŠ‚ç‚¹æ˜¯ `tree[i+lowbit(i)]`


Lowbit å‡½æ•°å®ç°
```python
def lowbit(x):
    return x & -x
```

æ›´æ–°æ“ä½œ
```python
def update(index, delta):
    while index <= size:
        tree[index] += delta
        index += lowbit(index)
```

æŸ¥è¯¢æ“ä½œ
```python
def query(index):
    res = 0
    while index > 0:
        res += tree[index]
        index -= lowbit(index)
    return res
```

# C å›¾ç®—æ³•
## 1 å›¾çš„å‚¨å­˜æ–¹å¼

å›¾çš„ç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä»¬éœ€è¦è¡¨ç¤ºé¡¶ç‚¹å’Œè¾¹ã€‚ä¸€ä¸ªå›¾å¯èƒ½æœ‰ä»»æ„å¤šä¸ªï¼ˆæœ‰é™ä¸ªï¼‰é¡¶ç‚¹ï¼Œè€Œä¸”ä»»ä½•ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´éƒ½å¯èƒ½å­˜åœ¨è¾¹ã€‚æˆ‘ä»¬åœ¨å®ç°å›¾çš„å­˜å‚¨æ—¶ï¼Œé‡ç‚¹éœ€è¦å…³æ³¨è¾¹ä¸é¡¶ç‚¹ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œè¿™æ˜¯å›¾çš„å­˜å‚¨çš„å…³é”®ã€‚

å›¾çš„å­˜å‚¨å¯ä»¥é€šè¿‡ã€Œé¡ºåºå­˜å‚¨ç»“æ„ã€å’Œã€Œé“¾å¼å­˜å‚¨ç»“æ„ã€æ¥å®ç°ã€‚å…¶ä¸­é¡ºåºå­˜å‚¨ç»“æ„åŒ…æ‹¬é‚»æ¥çŸ©é˜µã€‚é“¾å¼å­˜å‚¨ç»“æ„åŒ…æ‹¬é‚»æ¥è¡¨ã€é“¾å¼å‰å‘æ˜Ÿã€åå­—é“¾è¡¨å’Œé‚»æ¥å¤šé‡è¡¨ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„å›¾çš„å­˜å‚¨ç»“æ„ã€‚åœ¨ä¸‹æ–‡ä¸­ï¼Œæˆ‘ä»¬çº¦å®šç”¨Â nnÂ ä»£è¡¨é¡¶ç‚¹æ•°ç›®ï¼ŒmmÂ ä»£è¡¨è¾¹æ•°ç›®ï¼ŒTD(vi)TD(viâ€‹)Â è¡¨ç¤ºé¡¶ç‚¹Â viviâ€‹Â çš„åº¦ã€‚

### 1.1 é‚»æ¥çŸ©é˜µ

#### 1.1.1 é‚»æ¥çŸ©é˜µçš„åŸç†æè¿°
> **é‚»æ¥çŸ©é˜µï¼ˆAdjacency Matrixï¼‰**ï¼šä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ `adj` æ¥å­˜å‚¨é¡¶ç‚¹ä¹‹é—´çš„é‚»æ¥å…³ç³»ã€‚
> 
> - å¯¹äºæ— æƒå›¾æ¥è¯´ï¼Œå¦‚æœ `adj[i][j]` ä¸º `1`ï¼Œåˆ™è¯´æ˜é¡¶ç‚¹ `v_i` åˆ° `v_j` å­˜åœ¨è¾¹ï¼›å¦‚æœ `adj[i][j]` ä¸º `0`ï¼Œåˆ™è¯´æ˜é¡¶ç‚¹ `v_i` åˆ° `v_j` ä¸å­˜åœ¨è¾¹ã€‚
> - å¯¹äºå¸¦æƒå›¾æ¥è¯´ï¼Œå¦‚æœ `adj[i][j]` ä¸º `w`ï¼Œå¹¶ä¸” `w â‰  âˆ`ï¼ˆå³ `w != float('inf')`ï¼‰ï¼Œåˆ™è¯´æ˜é¡¶ç‚¹ `v_i` åˆ° `v_j` çš„æƒå€¼ä¸º `w`ï¼›å¦‚æœ `adj[i][j]` ä¸º `âˆ`ï¼ˆå³ `float('inf')`ï¼‰ï¼Œåˆ™è¯´æ˜é¡¶ç‚¹ `v_i` åˆ° `v_j` ä¸å­˜åœ¨è¾¹ã€‚

åœ¨ä¸‹é¢çš„ç¤ºæ„å›¾ä¸­ï¼Œå·¦ä¾§æ˜¯ä¸€ä¸ªæ— å‘å›¾ï¼Œå³ä¾§åˆ™æ˜¯è¯¥æ— å‘å›¾å¯¹åº”çš„é‚»æ¥çŸ©é˜µç»“æ„ã€‚

![](https://qcdn.itcharge.cn/images/20220317144826.png)

é‚»æ¥çŸ©é˜µçš„ç‰¹ç‚¹ï¼š

- ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œå¹¶ä¸”å¯ä»¥ç›´æ¥æŸ¥è¯¢é¡¶ç‚¹Â `v_i`Â ä¸Â `v_j` ä¹‹é—´æ˜¯å¦æœ‰è¾¹å­˜åœ¨ï¼Œè¿˜å¯ä»¥ç›´æ¥æŸ¥è¯¢è¾¹çš„æƒå€¼ã€‚
- ç¼ºç‚¹ï¼šåˆå§‹åŒ–æ•ˆç‡å’Œéå†æ•ˆç‡è¾ƒä½ï¼Œç©ºé—´å¼€é”€å¤§ï¼Œç©ºé—´åˆ©ç”¨ç‡ä½ï¼Œå¹¶ä¸”ä¸èƒ½å­˜å‚¨é‡å¤è¾¹ï¼Œä¹Ÿä¸ä¾¿äºå¢åˆ èŠ‚ç‚¹ã€‚

#### 1.1.2 é‚»æ¥çŸ©é˜µçš„ç®—æ³•åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š
    - **åˆå§‹åŒ–æ“ä½œ**ï¼šO(nÂ²)ã€‚
    - **æŸ¥è¯¢ã€æ·»åŠ æˆ–åˆ é™¤è¾¹æ“ä½œ**ï¼šO(1)ã€‚
    - **è·å–æŸä¸ªç‚¹çš„æ‰€æœ‰è¾¹æ“ä½œ**ï¼šO(n)ã€‚
    - **å›¾çš„éå†æ“ä½œ**Â ï¼šO(nÂ²)ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(nÂ²)ã€‚
    

#### 1.1.3 é‚»æ¥çŸ©é˜µçš„ä»£ç å®ç°

```python
class Graph:
    def __init__(self, n):
        self.n = n  # é¡¶ç‚¹æ•°
        self.adj = [[None]*n for _ in range(n)]  # é‚»æ¥çŸ©é˜µ
    
    def add_edge(self, u, v, w):
        """æ·»åŠ è¾¹ u->vï¼Œæƒå€¼w"""
        self.adj[u][v] = w
    
    def get_edge(self, u, v):
        """è·å–è¾¹æƒï¼Œä¸å­˜åœ¨è¿”å›None"""
        return self.adj[u][v]
```
### 1.3 é‚»æ¥è¡¨

#### 1.3.1 é‚»æ¥è¡¨çš„åŸç†æè¿°

> **é‚»æ¥è¡¨ï¼ˆAdjacency Listï¼‰**ï¼šä½¿ç”¨é¡ºåºå­˜å‚¨å’Œé“¾å¼å­˜å‚¨ç›¸ç»“åˆçš„å­˜å‚¨ç»“æ„æ¥å­˜å‚¨å›¾çš„é¡¶ç‚¹å’Œè¾¹ã€‚å…¶æ•°æ®ç»“æ„åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€ä¸ªéƒ¨åˆ†æ˜¯æ•°ç»„ï¼Œä¸»è¦ç”¨æ¥å­˜æ”¾é¡¶ç‚¹çš„æ•°æ®ä¿¡æ¯ï¼Œå¦ä¸€ä¸ªéƒ¨åˆ†æ˜¯é“¾è¡¨ï¼Œç”¨æ¥å­˜æ”¾è¾¹ä¿¡æ¯ã€‚

åœ¨é‚»æ¥è¡¨çš„å­˜å‚¨æ–¹æ³•ä¸­ï¼Œå¯¹äºå¯¹å›¾ä¸­æ¯ä¸ªé¡¶ç‚¹Â `v_i` å»ºç«‹ä¸€ä¸ªçº¿æ€§é“¾è¡¨ï¼ŒæŠŠæ‰€æœ‰é‚»æ¥äº`v_i` â€‹çš„é¡¶ç‚¹é“¾æ¥åˆ°å•é“¾è¡¨ä¸Šã€‚è¿™æ ·å¯¹äºå…·æœ‰Â `n`Â ä¸ªé¡¶ç‚¹çš„å›¾è€Œè¨€ï¼Œå…¶é‚»æ¥è¡¨ç»“æ„ç”±Â `n`Â ä¸ªçº¿æ€§é“¾è¡¨ç»„æˆã€‚

åœ¨ä¸‹é¢çš„ç¤ºæ„å›¾ä¸­ï¼Œå·¦ä¾§æ˜¯ä¸€ä¸ªæœ‰å‘å›¾ï¼Œå³ä¾§åˆ™æ˜¯è¯¥æœ‰å‘å›¾å¯¹åº”çš„é‚»æ¥è¡¨ç»“æ„ã€‚

![](https://qcdn.itcharge.cn/images/20220317154531.png)

#### 1.3.2 é‚»æ¥è¡¨çš„ç®—æ³•åˆ†æ

é‚»æ¥è¡¨çš„æ—¶é—´å¤æ‚åº¦ï¼š

- å›¾çš„åˆå§‹åŒ–å’Œåˆ›å»ºæ“ä½œï¼šO(n+m)ã€‚
- æŸ¥è¯¢æ˜¯å¦å­˜åœ¨Â viviâ€‹Â åˆ°Â vjvjâ€‹Â çš„è¾¹ï¼šO(TD(vi))ã€‚
- éå†æŸä¸ªç‚¹çš„æ‰€æœ‰è¾¹ï¼šO(TD(vi))ã€‚
- éå†æ•´å¼ å›¾ï¼šO(n+m)ã€‚

é‚»æ¥è¡¨çš„ç©ºé—´å¤æ‚åº¦ï¼š

- ç©ºé—´å¤æ‚åº¦ï¼šO(n+m)ã€‚

#### 1.3.3 é‚»æ¥è¡¨çš„ä»£ç å®ç°

**æ— æƒå›¾**
```python
from collections import defaultdict
class Graph:
    def __init__(self):
        self.adj = defaultdict(set)  
        # æ ¼å¼ï¼š{ èµ·ç‚¹: { ç»ˆç‚¹1, ç»ˆç‚¹2 } }
    def add_edge(self, u, v):
        self.adj[u].add(v)
```

**å¸¦æƒå›¾**
```python
from collections import defaultdict
class Graph:
    def __init__(self):
        self.adj = defaultdict(dict)
        # æ ¼å¼ï¼š{ èµ·ç‚¹: { ç»ˆç‚¹: æƒå€¼ } }
    def add_edge(self, u, v, weight=None):
        self.adj[u][v] = weight 
    	#self.adj[v][u] = weight  åŒå‘æ·»åŠ 
```

## 2 å›¾çš„éå†é—®é¢˜
> **å›¾çš„éå†**ï¼šä¸æ ‘çš„éå†ç±»ä¼¼ï¼Œå›¾çš„éå†æŒ‡çš„æ˜¯ä»å›¾çš„æŸä¸€ä¸ªé¡¶ç‚¹å‡ºå‘ï¼ŒæŒ‰ç…§æŸç§æœç´¢æ–¹å¼å¯¹å›¾ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½ä»…è®¿é—®ä¸€æ¬¡ã€‚

å›¾çš„éå†æ˜¯æ±‚è§£å›¾çš„è¿é€šæ€§é—®é¢˜ã€æ‹“æ‰‘æ’åºå’Œæ±‚å…³é”®è·¯å¾„ç­‰ç®—æ³•çš„åŸºç¡€ã€‚

æ ¹æ®æœç´¢æ–¹å¼çš„ä¸åŒï¼Œå¯å°†å›¾çš„éå†åˆ†ä¸ºã€Œ**æ·±åº¦ä¼˜å…ˆæœç´¢**ã€å’Œã€Œ**å¹¿åº¦ä¼˜å…ˆæœç´¢**ã€ã€‚

### æ‹“æ‰‘æ’åº

#### â… æ¦‚å¿µ
æœ‰å‘å›¾çš„è¾¹æä¾›äº†ç‚¹ä¸ç‚¹çš„ååºå…³ç³»ï¼Œç”±é›†åˆä¸Šè¿™ç§ååºå…³ç³»å¾—åˆ°é›†åˆçš„ä¸€ä¸ªå…¨åºï¼Œè¿™ç§æ“ä½œç§°ä¹‹ä¸º**æ‹“æ‰‘æ’åº**

#### â…¡å‰æ 
å›¾ä¸ºæœ‰å‘æ— ç¯å›¾ï¼Œæœ‰ç¯ (loop) å°±æ²¡åŠæ³•æ’åº

#### â…¢ç®—æ³•ï¼ˆBFSï¼‰(Kahn)
æ€è·¯ï¼šåœ¨æ™®é€š BFS çš„åŸºç¡€ä¸Šç»´æŠ¤èŠ‚ç‚¹çš„å…¥åº¦ï¼Œæ¯æ¬¡é€‰æ‹©å…¥åº¦ä¸º 0 çš„ç‚¹ï¼ˆæ²¡æœ‰å…¶ä»–ç‚¹åœ¨å…¶ä¹‹å‰ï¼‰è¿›å…¥é˜Ÿåˆ—

1. ç»Ÿè®¡å›¾ä¸­æ¯ä¸ªç‚¹çš„å…¥åº¦ï¼Œå‚¨å­˜è¿›æ•°ç»„ indegree
2. é€‰å–å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—
3. ä»é˜Ÿåˆ—ä¸­å¼¹å‡ºä¸€ä¸ªèŠ‚ç‚¹
	1. å°†è¯¥èŠ‚ç‚¹åŠ å…¥ res
	2. æŠŠè¯¥èŠ‚ç‚¹æŒ‡å‘çš„æ‰€æœ‰èŠ‚ç‚¹å…¥åº¦å‡ 1
4. é‡å¤æ­¥éª¤ 3ï¼Œç›´åˆ° len (q)=0
5. æ¯”è¾ƒ res å’ŒèŠ‚ç‚¹æ•°ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ loop

æ—¶é—´å¤æ‚åº¦ï¼šO (n+e)

```python
from collections import deque  

def topoSortBfs(self):
    inDeg = {node: 0 for node in self.graph}
    for node in self.graph:
        for adj in self.graph[node]:
            inDeg[adj] += 1

    q = deque([node for node, d in inDeg.items() if d == 0])
    res = []
    while q:
        u = q.popleft()
        res.append(u)
        for v in self.graph[u]:
            inDeg[v] -= 1
            if inDeg[v] == 0:
                q.append(v)
    
    # æ£€æŸ¥ç»“æœé•¿åº¦æ˜¯å¦åŒ…å«æ‰€æœ‰èŠ‚ç‚¹ï¼Œè‹¥å¦åˆ™å­˜åœ¨ç¯
    if len(res) != len(self.graph):
        return None
    return res
```

## 3 å›¾çš„è¿é€šæ€§é—®é¢˜

### å¼ºè¿é€šåˆ†é‡ (SCC)
#### â… æ¦‚å¿µ 
å¦‚æœä¸€ä¸ªæœ‰å‘å›¾ä¸­ï¼Œå­˜åœ¨ä¸€æ¡å›è·¯ï¼Œæ‰€æœ‰çš„ç»“ç‚¹è‡³å°‘è¢«ç»è¿‡ä¸€æ¬¡ï¼Œè¿™æ ·çš„å›¾ä¸º**å¼ºè¿é€šå›¾**ã€‚åœ¨å¼ºè¿é€šå›¾çš„åŸºç¡€ä¸ŠåŠ å…¥ä¸€äº›ç‚¹å’Œè·¯å¾„ï¼Œä½¿å¾—å½“å‰çš„å›¾ä¸åœ¨å¼ºè¿é€šï¼Œç§°åŸæ¥çš„å¼ºè¿é€šçš„éƒ¨åˆ†ä¸º**å¼ºè¿é€šåˆ†é‡**ã€‚

#### â…¡ç®—æ³•ï¼štarjan

```python
def tarjan(graph):
    def dfs(node):
        nonlocal index, stack, indices, low_link, on_stack, sccs
        index += 1
        indices[node] = index
        low_link[node] = index
        stack.append(node)
        on_stack[node] = True
        
        for neighbor in graph[node]:
            if indices[neighbor] == 0:  # Neighbor not visited yet
                dfs(neighbor)
                low_link[node] = min(low_link[node], low_link[neighbor])
            elif on_stack[neighbor]:  # Neighbor is in the current SCC
                low_link[node] = min(low_link[node], indices[neighbor])
        
        if indices[node] == low_link[node]:
            scc = []
            while True:
                top = stack.pop()
                on_stack[top] = False
                scc.append(top)
                if top == node:
                    break
            sccs.append(scc)
    
    index = 0
    stack = []
    indices = [0] * len(graph)
    low_link = [0] * len(graph)
    on_stack = [False] * len(graph)
    sccs = []
    
    for node in range(len(graph)):
        if indices[node] == 0:
            dfs(node)
    
    return sccs

# Example
graph = [[1],        # Node 0 points to Node 1
         [2, 4],     # Node 1 points to Node 2 and Node 4
         [3, 5],     # Node 2 points to Node 3 and Node 5
         [0, 6],     # Node 3 points to Node 0 and Node 6
         [5],        # Node 4 points to Node 5
         [4],        # Node 5 points to Node 4
         [7],        # Node 6 points to Node 7
         [5, 6]]     # Node 7 points to Node 5 and Node 6

sccs = tarjan(graph)
print("Strongly Connected Components:")
for scc in sccs:
    print(scc)

"""
Strongly Connected Components:
[4, 5]
[7, 6]
[3, 2, 1, 0]
"""
```
ä»£ç ç»“æ„ä¸å˜é‡è¯´æ˜
- **`graph`** : è¾“å…¥çš„é‚»æ¥è¡¨è¡¨ç¤ºçš„æœ‰å‘å›¾ã€‚
- **`index`** : å…¨å±€è®¡æ•°å™¨ï¼Œè®°å½•èŠ‚ç‚¹è¢«è®¿é—®çš„é¡ºåºï¼ˆæ—¶é—´æˆ³ï¼‰ã€‚
- **`stack`** : ä¿å­˜å½“å‰ DFS è·¯å¾„ä¸­çš„èŠ‚ç‚¹ï¼Œç”¨äºå›æº¯å½¢æˆ SCCã€‚
- **`indices`** : è®°å½•æ¯ä¸ªèŠ‚ç‚¹è¢«è®¿é—®æ—¶çš„ç´¢å¼•ï¼ˆæ—¶é—´æˆ³ï¼‰ï¼Œåˆå§‹åŒ–ä¸º 0 è¡¨ç¤ºæœªè®¿é—®ã€‚
- **`low_link`** : è®°å½•èŠ‚ç‚¹èƒ½å›æº¯åˆ°çš„æœ€æ—©çš„èŠ‚ç‚¹ç´¢å¼•ï¼Œåˆå§‹åŒ–ä¸º 0ã€‚
- **`on_stack`** : æ ‡è®°èŠ‚ç‚¹æ˜¯å¦åœ¨æ ˆä¸­ï¼Œé¿å…é‡å¤å¤„ç†ã€‚
- **`sccs`** : å­˜å‚¨æ‰€æœ‰æ‰¾åˆ°çš„å¼ºè¿é€šåˆ†é‡ã€‚

æ ¸å¿ƒå‡½æ•°ï¼šDFS éå†

1. **åˆå§‹åŒ–èŠ‚ç‚¹** ï¼š
    
    - å½“é¦–æ¬¡è®¿é—®èŠ‚ç‚¹æ—¶ï¼Œåˆ†é… `index` å’Œ `low_link` å€¼ï¼ŒèŠ‚ç‚¹å…¥æ ˆå¹¶æ ‡è®° `on_stack` ä¸ºTrueã€‚
2. **éå†é‚»å±…èŠ‚ç‚¹** ï¼š
    
    - **æœªè®¿é—®çš„é‚»å±…** ï¼šé€’å½’è°ƒç”¨ DFSï¼Œé€’å½’è¿”å›åæ›´æ–°å½“å‰èŠ‚ç‚¹çš„ `low_link` ä¸ºå½“å‰å€¼å’Œé‚»å±… `low_link` çš„è¾ƒå°å€¼ã€‚
    - **å·²è®¿é—®ä¸”åœ¨æ ˆä¸­çš„é‚»å±…** ï¼šè¯´æ˜å­˜åœ¨å›è¾¹ï¼Œç›´æ¥æ›´æ–°å½“å‰èŠ‚ç‚¹çš„ `low_link` ä¸ºå½“å‰å€¼å’Œé‚»å±… `indices` çš„è¾ƒå°å€¼ã€‚
3. **è¯†åˆ« SCC æ ¹èŠ‚ç‚¹** ï¼š
    
    - å½“èŠ‚ç‚¹çš„ `indices` ç­‰äº `low_link` æ—¶ï¼Œè¯¥èŠ‚ç‚¹æ˜¯ SCC çš„æ ¹èŠ‚ç‚¹ã€‚æ­¤æ—¶å¼¹å‡ºæ ˆä¸­æ‰€æœ‰åç»­èŠ‚ç‚¹ç›´è‡³å½“å‰èŠ‚ç‚¹ï¼Œå½¢æˆä¸€ä¸ª SCCï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ç»“æœåˆ—è¡¨ã€‚

ç®—æ³•æ‰§è¡Œæµç¨‹

1. **éå†æ‰€æœ‰èŠ‚ç‚¹** ï¼šç¡®ä¿æ¯ä¸ªæœªè®¿é—®çš„èŠ‚ç‚¹éƒ½è¿›è¡Œ DFSã€‚
2. **SCC çš„å½¢æˆ** ï¼šé€šè¿‡æ ˆçš„åè¿›å…ˆå‡ºç‰¹æ€§ï¼Œç¡®ä¿æ¯ä¸ª SCC çš„èŠ‚ç‚¹æŒ‰æ­£ç¡®é¡ºåºå¼¹å‡ºã€‚


## 4 å›¾çš„ç”Ÿæˆæ ‘é—®é¢˜
> **å›¾çš„ç”Ÿæˆæ ‘ï¼ˆSpanning Treeï¼‰**ï¼šå¦‚æœè¿é€šå›¾ G çš„ä¸€ä¸ªå­å›¾æ˜¯ä¸€æ£µåŒ…å«å›¾ G æ‰€æœ‰é¡¶ç‚¹çš„æ ‘ï¼Œåˆ™ç§°è¯¥å­å›¾ä¸º G çš„ç”Ÿæˆæ ‘ã€‚ç”Ÿæˆæ ‘æ˜¯è¿é€šå›¾çš„åŒ…å«å›¾ä¸­çš„æ‰€æœ‰é¡¶ç‚¹çš„æå°è¿é€šå­å›¾ã€‚å›¾çš„ç”Ÿæˆæ ‘ä¸æƒŸä¸€ã€‚ä»ä¸åŒçš„é¡¶ç‚¹å‡ºå‘è¿›è¡Œéå†ï¼Œå¯ä»¥å¾—åˆ°ä¸åŒçš„ç”Ÿæˆæ ‘ã€‚


### **1ï¼‰Kruskal**

ç›®çš„ï¼šç”¨æœ€å°çš„è¾¹æƒé‡é“¾æ¥æ‰€æœ‰çš„ç‚¹ï¼ˆæ— å‘å›¾ï¼‰
æ€è·¯ï¼š
1. æŒ‰ç…§è¾¹çš„æƒé‡æ’åºï¼ˆä»å°åˆ°å¤§ï¼‰
2. æ¥ä¸‹æ¥å¼€å§‹é“¾æ¥ç‚¹ï¼ˆå¦‚ä½•è¡¨ç¤ºé“¾æ¥ï¼Ÿç”¨å¹¶æŸ¥é›†ï¼‰
	1. å…ˆåˆ¤æ–­æ˜¯å¦é“¾æ¥
	2. å¦‚æœæ²¡æœ‰é“¾æ¥æŠŠä»–ä»¬è¿èµ·æ¥

```python
class DisjointSet:
    def __init__(self, num_vertices):
        self.parent = list(range(num_vertices))
        self.rank = [0] * num_vertices

    def find(self, x):
        if self.parent[x] != x:
            self.parent[x] = self.find(self.parent[x])
        return self.parent[x]

    def union(self, x, y):
        root_x = self.find(x)
        root_y = self.find(y)

        if root_x != root_y:
            if self.rank[root_x] < self.rank[root_y]:
                self.parent[root_x] = root_y
            elif self.rank[root_x] > self.rank[root_y]:
                self.parent[root_y] = root_x
            else:
                self.parent[root_x] = root_y
                self.rank[root_y] += 1


def kruskal(graph):
    num_vertices = len(graph)
    edges = []

    # æ„å»ºè¾¹é›†
    for i in range(num_vertices):
        for j in range(i + 1, num_vertices):
            if graph[i][j] != 0:
                edges.append((i, j, graph[i][j]))

    # æŒ‰ç…§æƒé‡æ’åº
    edges.sort(key=lambda x: x[2])

    # åˆå§‹åŒ–å¹¶æŸ¥é›†
    disjoint_set = DisjointSet(num_vertices)

    # æ„å»ºæœ€å°ç”Ÿæˆæ ‘çš„è¾¹é›†
    minimum_spanning_tree = []

    for edge in edges:
        u, v, weight = edge
        if disjoint_set.find(u) != disjoint_set.find(v):
            disjoint_set.union(u, v)
            minimum_spanning_tree.append((u, v, weight))

    return minimum_spanning_tree
```

åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ`graph` æ˜¯ä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œè¡¨ç¤ºå¸¦æƒæ— å‘å›¾çš„é‚»æ¥çŸ©é˜µã€‚`graph[i][j]` è¡¨ç¤ºé¡¶ç‚¹ i å’Œé¡¶ç‚¹ j ä¹‹é—´çš„è¾¹çš„æƒé‡ã€‚

Kruskal ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O (ElogE)ï¼Œå…¶ä¸­ E æ˜¯è¾¹çš„æ•°é‡ã€‚æ’åºè¾¹é›†çš„æ—¶é—´å¤æ‚åº¦ä¸º O (ElogE)ï¼Œå¹¶æŸ¥é›†æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º O (EÎ±(V))ï¼Œå…¶ä¸­ Î± æ˜¯ Ackermann å‡½æ•°çš„åå‡½æ•°ï¼Œè¿‘ä¼¼ä¸ºå¸¸æ•°ã€‚å› æ­¤ï¼Œæ€»ä½“ä¸Šæ¥è¯´ï¼ŒKruskal ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å¯ä»¥è¿‘ä¼¼ä¸º O (ElogE)ã€‚

### **2ï¼‰Prim**
**Prim ç®—æ³•çš„åŸºæœ¬æ€æƒ³**
1. **åˆå§‹åŒ–**ï¼šä»»é€‰ä¸€ä¸ªé¡¶ç‚¹ä½œä¸ºèµ·ç‚¹ï¼ŒåŠ å…¥ç”Ÿæˆæ ‘ã€‚
2. **æ‰©å±•ç”Ÿæˆæ ‘**ï¼šæ¯æ¬¡é€‰æ‹©Â **å½“å‰ç”Ÿæˆæ ‘åˆ°æœªåŠ å…¥é¡¶ç‚¹çš„æœ€çŸ­è¾¹**ï¼Œå¹¶å°†è¯¥è¾¹çš„å¦ä¸€ä¸ªé¡¶ç‚¹åŠ å…¥ç”Ÿæˆæ ‘ã€‚
3. **é‡å¤**ï¼šç›´åˆ°æ‰€æœ‰é¡¶ç‚¹éƒ½åŠ å…¥ç”Ÿæˆæ ‘ã€‚

- Prim é€‚åˆç¨ å¯†å›¾ï¼ˆè¾¹å¤šï¼‰ï¼ŒKruskal é€‚åˆç¨€ç–å›¾
```python
import heapq  
  
while True:  
    try:  
        n=int(input())  
        mat=[]  
        for i in range(n):  
            mat.append(list(map(int,input().split())))  
        res=0  
        h=[(0,0)]  
        heapq.heapify(h)  
        visit={0}  
        while h and len(visit)<n:  
            dist,cur=heapq.heappop(h)  
            if cur in visit:  
                continue  
            res+=dist  
            visit.add(cur)  
            for i,road in enumerate(mat[cur]):  
                if i==cur or i in visit:  
                    continue  
                heapq.heappush(h,(road,i))  
        print(res)  
    except EOFError:  
        break
```

## 5 å›¾çš„æœ€çŸ­è·¯å¾„é—®é¢˜
### [[è®¡ç®—æ¦‚è®º/ç¬”è®°#11 dijkstra ç®—æ³•ï¼ˆdp+greedy+BFSï¼‰|Dijkstra]] ï¼ˆæ— è´Ÿæƒå›¾ï¼‰
### Bellman-Fordï¼ˆå¯ä»¥å¤„ç†è´Ÿæƒå›¾ï¼‰
- **æ€æƒ³**ï¼š==åŠ¨æ€è§„åˆ’ + æ¾å¼›æ€æƒ³==
- æ¯æ¬¡è¿­ä»£å°è¯•é€šè¿‡å·²çŸ¥çš„æœ€çŸ­è·¯å¾„æ›´æ–°å…¶ä»–è·¯å¾„ï¼ˆæ¾å¼›ï¼‰
- æœ€å¤šåªéœ€è¿›è¡Œ V-1 æ¬¡è¿­ä»£ï¼Œå› ä¸ºæœ€çŸ­è·¯å¾„æœ€å¤šç»è¿‡ V-1 ä¸ªé¡¶ç‚¹
- ç¬¬ V æ¬¡æ£€æµ‹æ˜¯å¦è¿˜èƒ½æ›´æ–°ï¼Œç”¨äºå‘ç°è´Ÿæƒç¯

> âœ… å…³é”®ï¼šæ¾å¼›æ“ä½œï¼ˆRelaxationï¼‰

> **Bellman-Fordç®—æ³•**ï¼šBellman-Fordç®—æ³•ç”¨äºè§£å†³å•æºæœ€çŸ­è·¯å¾„é—®é¢˜ï¼Œä¸Dijkstraç®—æ³•ä¸åŒï¼Œå®ƒå¯ä»¥å¤„ç†å¸¦æœ‰è´Ÿæƒè¾¹çš„å›¾ã€‚ç®—æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯é€šè¿‡æ¾å¼›æ“ä½œé€æ­¥æ›´æ–°èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ä¼°è®¡å€¼ï¼Œç›´åˆ°æ”¶æ•›åˆ°æœ€ç»ˆç»“æœã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š
> 
> - åˆå§‹åŒ–ä¸€ä¸ªè·ç¦»æ•°ç»„ï¼Œç”¨äºè®°å½•æºèŠ‚ç‚¹åˆ°æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚åˆå§‹æ—¶ï¼ŒæºèŠ‚ç‚¹çš„è·ç¦»ä¸º0ï¼Œå…¶ä»–èŠ‚ç‚¹çš„è·ç¦»ä¸ºæ— ç©·å¤§ã€‚
> - è¿›è¡ŒV-1æ¬¡å¾ªç¯ï¼ˆVæ˜¯å›¾ä¸­çš„èŠ‚ç‚¹æ•°ï¼‰ï¼Œæ¯æ¬¡å¾ªç¯å¯¹æ‰€æœ‰è¾¹è¿›è¡Œæ¾å¼›æ“ä½œã€‚å¦‚æœä»èŠ‚ç‚¹uåˆ°èŠ‚ç‚¹vçš„è·¯å¾„ç»è¿‡èŠ‚ç‚¹uçš„è·ç¦»åŠ ä¸Šè¾¹(u, v)çš„æƒé‡æ¯”å½“å‰å·²çŸ¥çš„ä»æºèŠ‚ç‚¹åˆ°èŠ‚ç‚¹vçš„æœ€çŸ­è·¯å¾„æ›´çŸ­ï¼Œåˆ™æ›´æ–°æœ€çŸ­è·¯å¾„ã€‚
> - æ£€æŸ¥æ˜¯å¦å­˜åœ¨è´Ÿæƒå›è·¯ã€‚==å¦‚æœåœ¨V-1æ¬¡å¾ªç¯åï¼Œä»ç„¶å¯ä»¥é€šè¿‡æ¾å¼›æ“ä½œæ›´æ–°æœ€çŸ­è·¯å¾„ï¼Œåˆ™è¯´æ˜å­˜åœ¨è´Ÿæƒå›è·¯ï¼Œå› æ­¤æ— æ³•ç¡®å®šæœ€çŸ­è·¯å¾„==ã€‚

Bellman-Fordç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºï¼Œå…¶ä¸­Væ˜¯å›¾ä¸­çš„èŠ‚ç‚¹æ•°ï¼ŒEæ˜¯å›¾ä¸­çš„è¾¹æ•°ï¼Œé€‚åˆ==è¾¹ç¨€ç–å›¾==ï¼ˆè¾¹æ•°è¿œå°äºÂ ï¼‰ã€‚

###### âœ… Bellman-Ford ä¸ºä»€ä¹ˆâ€œæ¾å¼› V-1 æ¬¡â€æ˜¯å¯¹çš„ï¼Ÿ

æœ€çŸ­è·¯å¾„æœ€å¤š V-1 æ¡è¾¹ï¼›æ¯æ¬¡æ¾å¼›å°è¯•ä¼ é€’æ›´çŸ­çš„è·¯å¾„ã€‚

ğŸ“ŒÂ **æœ¬è´¨æ˜¯â€œè·¯å¾„æœ€å¤šæœ‰ V-1 æ¡è¾¹â€**

- åœ¨æ²¡æœ‰è´Ÿç¯çš„å›¾ä¸­ï¼Œä»èµ·ç‚¹å‡ºå‘åˆ°ä»»æ„ä¸€ä¸ªç‚¹ï¼Œæœ€å¤šèµ°Â **V-1 æ¡è¾¹**ï¼ˆå› ä¸ºå›¾ä¸­æœ‰ V ä¸ªç‚¹ï¼Œè·¯å¾„ä¸èƒ½é‡å¤ç»è¿‡ç‚¹ï¼Œå¦åˆ™å°±æˆç¯äº†ï¼‰ã€‚
- æ¯æ¬¡â€œæ¾å¼›â€ä¸€æ¡è¾¹ï¼Œç›¸å½“äºå°è¯•æŠŠè·¯å¾„ä» u â†’ v å˜çŸ­ï¼ˆå¦‚æœå¯ä»¥ï¼‰ã€‚
- æ‰€ä»¥æˆ‘ä»¬æ‰§è¡Œ V-1 è½®ï¼Œæ¯è½®éå†æ‰€æœ‰è¾¹ï¼ŒæŠŠæ‰€æœ‰å¯èƒ½çš„è·¯å¾„æ›´æ–°å‡ºæ¥ã€‚

> ğŸŒ±Â **ç›´è§‰ç±»æ¯”**ï¼š  
> å‡è®¾ä½ ä¼ é€’æ¶ˆæ¯ï¼Œèµ·ç‚¹çŸ¥é“è‡ªå·±æ˜¯ 0 æ­¥ï¼Œç¬¬ä¸€è½®ä¼ ç»™é‚»å±…ï¼Œç¬¬äºŒè½®é‚»å±…çš„é‚»å±…çŸ¥é“â€¦â€¦ä¼  V-1 è½®å°±æŠŠæ¶ˆæ¯ä¼ æ»¡äº†ã€‚  
> è¿™å°±åƒå¹¿æ’­ä¼ æ’­ï¼Œæœ€è¿œéœ€è¦ V-1 æ­¥ã€‚

---

âœ…Â **æ­£ç¡®æ€§çš„å½’çº³è¯æ˜ï¼ˆç•¥ç®€åŒ–ï¼‰ï¼š**

- **åˆå§‹çŠ¶æ€**ï¼šèµ·ç‚¹åˆ°è‡ªå·±è·ç¦»æ˜¯ 0ï¼Œå…¶ä»–æ˜¯ âˆã€‚
- **å½’çº³å‡è®¾**ï¼šç¬¬ k è½®åï¼Œæ‰€æœ‰æœ€çŸ­è·¯å¾„è‡³å¤šåŒ…å« k æ¡è¾¹çš„ç‚¹éƒ½è¢«æ­£ç¡®æ›´æ–°ã€‚
- **ç¬¬ k+1 è½®**ï¼šå†é€šè¿‡æ‰€æœ‰è¾¹æ¾å¼›ï¼Œæ›´æ–°åŒ…å« k+1 æ¡è¾¹çš„è·¯å¾„ã€‚
- æ‰€ä»¥ V-1 æ¬¡å¯ä»¥æ›´æ–°æœ€å¤šåŒ…å« V-1 æ¡è¾¹çš„æœ€çŸ­è·¯å¾„ã€‚
- ç¬¬ V æ¬¡å¦‚æœè¿˜èƒ½æ›´æ–°ï¼Œé‚£ä¸€å®šå­˜åœ¨ç¯ï¼ˆè´Ÿæƒç¯ï¼‰ã€‚

> 
> SPFAç®—æ³•çš„åŸºæœ¬æ€æƒ³å¦‚ä¸‹ï¼š
> 
> 1. åˆå§‹åŒ–æºèŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»ä¸º0ï¼Œå…¶ä»–èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»ä¸ºæ­£æ— ç©·å¤§ã€‚
> 2. å°†æºèŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ä¸­ï¼Œå¹¶æ ‡è®°ä¸ºå·²è®¿é—®ã€‚
> 3. å¾ªç¯æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºï¼š
>     - ä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºå½“å‰èŠ‚ç‚¹ã€‚
>     - éå†å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰é‚»æ¥èŠ‚ç‚¹ï¼š
>         - å¦‚æœç»è¿‡å½“å‰èŠ‚ç‚¹åˆ°è¾¾è¯¥é‚»æ¥èŠ‚ç‚¹çš„è·¯å¾„æ¯”å½“å‰è®°å½•çš„æœ€çŸ­è·¯å¾„æ›´çŸ­ï¼Œåˆ™æ›´æ–°æœ€çŸ­è·¯å¾„ï¼Œå¹¶å°†è¯¥é‚»æ¥èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ä¸­ã€‚
> 4. å½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œç®—æ³•ç»“æŸï¼Œæ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„å·²è®¡ç®—å‡ºæ¥ã€‚
> 
> SPFAç®—æ³•åœ¨å®é™…åº”ç”¨ä¸­é€šå¸¸è¡¨ç°å‡ºè‰¯å¥½çš„æ€§èƒ½ï¼Œå°¤å…¶é€‚ç”¨äºç¨€ç–å›¾ï¼ˆè¾¹æ•°ç›¸å¯¹è¾ƒå°‘ï¼‰å’Œå­˜åœ¨è´Ÿæƒè¾¹çš„æƒ…å†µã€‚ç„¶è€Œï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ==å¦‚æœå›¾ä¸­å­˜åœ¨è´Ÿæƒç¯è·¯ï¼ŒSPFAç®—æ³•å°†æ— æ³•ç»™å‡ºæ­£ç¡®çš„ç»“æœ==ã€‚

##### âœ…ç¤ºä¾‹Bellman-Ford ç®—æ³•

```python
def bellman_ford(graph, V, source):
    # åˆå§‹åŒ–è·ç¦»
    dist = [float('inf')] * V
    dist[source] = 0

    # æ¾å¼› V-1 æ¬¡
    for _ in range(V - 1):
        for u, v, w in graph:
            if dist[u] != float('inf') and dist[u] + w < dist[v]:
                dist[v] = dist[u] + w

    # æ£€æµ‹è´Ÿæƒç¯
    for u, v, w in graph:
        if dist[u] != float('inf') and dist[u] + w < dist[v]:
            print("å›¾ä¸­å­˜åœ¨è´Ÿæƒç¯")
            return None

    return dist

# å›¾æ˜¯è¾¹åˆ—è¡¨ï¼Œæ¯æ¡è¾¹æ˜¯ (èµ·ç‚¹, ç»ˆç‚¹, æƒé‡)
edges = [
    (0, 1, 5),
    (0, 2, 4),
    (1, 3, 3),
    (2, 1, 6),
    (3, 2, -2)
]
V = 4
source = 0

print(bellman_ford(edges, V, source))
```

##### âœ…Dijkstraç®—æ³•å’ŒBellman-Fordç®—æ³•å¯¹æ¯”

Dijkstraç®—æ³•å’ŒBellman-Fordç®—æ³•éƒ½å¯ä»¥ç”¨äºè®¡ç®—ä»ä¸€ä¸ªæºç‚¹åˆ°å›¾ä¸­å…¶ä»–æ‰€æœ‰é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œä½†å®ƒä»¬åœ¨å¤„ç†é—®é¢˜çš„æ–¹å¼ã€é€‚ç”¨åœºæ™¯ä»¥åŠç®—æ³•æ•ˆç‡ä¸Šæœ‰æ‰€åŒºåˆ«ã€‚

- **Dijkstraç®—æ³•**ï¼šä¸»è¦ç”¨äºæ²¡æœ‰è´Ÿæƒè¾¹çš„åŠ æƒå›¾ã€‚å®ƒèƒ½å¤Ÿæœ‰æ•ˆåœ°æ‰¾åˆ°ä»å•ä¸ªæºç‚¹åˆ°å›¾ä¸­æ‰€æœ‰å…¶ä»–é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚è¯¥ç®—æ³•é‡‡ç”¨è´ªå¿ƒç­–ç•¥ï¼Œæ¯æ¬¡é€‰æ‹©å½“å‰è·ç¦»æœ€å°çš„æœªè®¿é—®èŠ‚ç‚¹è¿›è¡Œæ‰©å±•ã€‚ç”±äºå…¶é«˜æ•ˆçš„å®ç°ï¼ˆæ¯”å¦‚ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼‰ï¼Œå¯¹äºå¤§è§„æ¨¡ç¨€ç–å›¾æ¥è¯´ï¼ŒDijkstraç®—æ³•çš„æ—¶é—´å¤æ‚åº¦é€šå¸¸ä¸ºO((V+E) log V)ï¼Œå…¶ä¸­Væ˜¯é¡¶ç‚¹æ•°ï¼ŒEæ˜¯è¾¹æ•°ã€‚
    
- **Bellman-Fordç®—æ³•**ï¼šé€‚ç”¨äºå¯èƒ½åŒ…å«è´Ÿæƒè¾¹çš„åŠ æƒå›¾ï¼Œå¹¶ä¸”å¯ä»¥æ£€æµ‹å‡ºè´Ÿæƒç¯ï¼ˆå³æ€»æƒé‡ä¸ºè´Ÿçš„ç¯ï¼‰ã€‚å¦‚æœå­˜åœ¨è´Ÿæƒç¯å¹¶ä¸”å®ƒæ˜¯å¯è¾¾çš„ï¼Œé‚£ä¹ˆæœ€çŸ­è·¯å¾„ä¸å†æœ‰æ„ä¹‰ï¼Œå› ä¸ºå¯ä»¥é€šè¿‡ç»•ç¯å¤šæ¬¡ä»»æ„å‡å°‘è·¯å¾„é•¿åº¦ã€‚Bellman-Fordç®—æ³•é€šè¿‡è¿­ä»£æ¯æ¡è¾¹æœ€å¤šV-1æ¬¡æ¥æ¾å¼›ï¼ˆæ›´æ–°ï¼‰åˆ°è¾¾æ¯ä¸ªé¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ä¼°è®¡å€¼ï¼Œå› æ­¤å…¶æ—¶é—´å¤æ‚åº¦ä¸ºO(VE)ã€‚æ­¤å¤–ï¼ŒBellman-Fordè¿˜å¯ä»¥æŠ¥å‘Šæ˜¯å¦å‘ç°å¯ä»¥ä»æºèŠ‚ç‚¹åˆ°è¾¾çš„è´Ÿæƒç¯ã€‚
    

ç®€è€Œè¨€ä¹‹ï¼Œè™½ç„¶ä¸¤ä¸ªç®—æ³•éƒ½å¯ç”¨äºå¯»æ‰¾ä»ä¸€ä¸ªæºç‚¹åˆ°å›¾ä¸­å…¶ä»–æ‰€æœ‰é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œä½†åœ¨é¢å¯¹å¯èƒ½å­˜åœ¨è´Ÿæƒè¾¹çš„æƒ…å†µæ—¶ï¼ŒBellman-Fordç®—æ³•æ›´ä¸ºé€‚ç”¨ï¼›è€Œåœ¨ä»…å¤„ç†éè´Ÿæƒè¾¹çš„æƒ…å†µä¸‹ï¼ŒDijkstraç®—æ³•å› å…¶æ›´é«˜çš„æ•ˆç‡é€šå¸¸æ˜¯é¦–é€‰ã€‚

### Floyd ç®—æ³•ï¼ˆå¤šæºæœ€çŸ­è·¯å¾„ï¼‰
> âœ… å…³é”®ï¼šä¸­é—´ç‚¹æšä¸¾ï¼ˆå¼•å…¥â€œæ¡¥æ¢â€è·¯å¾„ï¼‰
- çŠ¶æ€å®šä¹‰ï¼š`dist[i][j]`Â è¡¨ç¤º i åˆ° j çš„æœ€çŸ­è·¯å¾„é•¿åº¦
- è½¬ç§»æ–¹ç¨‹ï¼š
    `dist[i][j]=minâ¡(dist[i][j], dist[i][k]+dist[k][j])`
    è¡¨ç¤ºæ˜¯å¦é€šè¿‡ä¸­é—´ç‚¹ k èƒ½è®©è·¯å¾„æ›´çŸ­



å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š

1. åˆå§‹åŒ–ä¸€ä¸ªäºŒç»´æ•°ç»„`dist`ï¼Œç”¨äºå­˜å‚¨ä»»æ„ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´çš„æœ€çŸ­è·ç¦»ã€‚åˆå§‹æ—¶ï¼Œ`dist[i][j]`è¡¨ç¤ºé¡¶ç‚¹iåˆ°é¡¶ç‚¹jçš„ç›´æ¥è¾¹çš„æƒé‡ï¼Œå¦‚æœiå’Œjä¸ç›´æ¥ç›¸è¿ï¼Œåˆ™æƒé‡ä¸ºæ— ç©·å¤§ã€‚
    
2. å¯¹äºæ¯ä¸ªé¡¶ç‚¹kï¼Œåœ¨æ›´æ–°`dist`æ•°ç»„æ—¶ï¼Œè€ƒè™‘é¡¶ç‚¹kä½œä¸ºä¸­é—´èŠ‚ç‚¹çš„æƒ…å†µã€‚éå†æ‰€æœ‰çš„é¡¶ç‚¹å¯¹(i, j)ï¼Œå¦‚æœé€šè¿‡é¡¶ç‚¹kå¯ä»¥ä½¿å¾—ä»é¡¶ç‚¹iåˆ°é¡¶ç‚¹jçš„è·¯å¾„å˜çŸ­ï¼Œåˆ™æ›´æ–°`dist[i][j]`ä¸ºæ›´å°çš„å€¼ã€‚
    
    `dist[i][j] = min(dist[i][j], dist[i][k] + dist[k][j])`
    
3. é‡å¤è¿›è¡Œä¸Šè¿°æ­¥éª¤ï¼Œå¯¹äºæ¯ä¸ªé¡¶ç‚¹ä½œä¸ºä¸­é—´èŠ‚ç‚¹ï¼Œè¿›è¡Œè¿­ä»£æ›´æ–°`dist`æ•°ç»„ã€‚æœ€ç»ˆï¼Œ`dist`æ•°ç»„ä¸­å­˜å‚¨çš„å°±æ˜¯æ‰€æœ‰é¡¶ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ã€‚

ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨Floyd-Warshallç®—æ³•æ±‚è§£æ‰€æœ‰é¡¶ç‚¹ä¹‹é—´æœ€çŸ­è·¯å¾„çš„ç¤ºä¾‹ä»£ç ï¼š

```python
def floyd_warshall(graph):
    n = len(graph)
    dist = [[float('inf')] * n for _ in range(n)]

    for i in range(n):
        for j in range(n):
            if i == j:
                dist[i][j] = 0
            elif j in graph[i]:
                dist[i][j] = graph[i][j]

    for k in range(n):
        for i in range(n):
            for j in range(n):
                dist[i][j] = min(dist[i][j], dist[i][k] + dist[k][j])

    return dist
```

åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ`graph`æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œç”¨äºè¡¨ç¤ºå›¾çš„é‚»æ¥å…³ç³»ã€‚å®ƒçš„é”®è¡¨ç¤ºèµ·å§‹é¡¶ç‚¹ï¼Œå€¼è¡¨ç¤ºä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­é”®è¡¨ç¤ºç»ˆç‚¹é¡¶ç‚¹ï¼Œå€¼è¡¨ç¤ºå¯¹åº”è¾¹çš„æƒé‡ã€‚

ä½ å¯ä»¥å°†ä½ çš„å›¾è¡¨ç¤ºä¸ºä¸€ä¸ªé‚»æ¥çŸ©é˜µæˆ–é‚»æ¥è¡¨ï¼Œå¹¶å°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™`floyd_warshall`å‡½æ•°ã€‚å‡½æ•°å°†è¿”å›ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œå…¶ä¸­`dist[i][j]`è¡¨ç¤ºä»é¡¶ç‚¹iåˆ°é¡¶ç‚¹jçš„æœ€çŸ­è·¯å¾„é•¿åº¦ã€‚

## 6 å›¾çš„å…³é”®è·¯å¾„é—®é¢˜




### å›¾çš„é‚»æ¥è¡¨
#### â…  äºŒç»´çŸ©é˜µè¡¨ç¤º
```python
n, m = map(int, input().split())
adjacency_matrix = [[0]*n for _ in range(n)]
for _ in range(m):
    u, v = map(int, input().split())
    adjacency_matrix[u][v] = 1
    adjacency_matrix[v][u] = 1 #æ— å‘å›¾æ‰è¦è¿™ä¸€è¡Œ
```

#### â…¡å®šä¹‰ç±»è¡¨ç¤º
æ€è·¯ï¼šç”¨ä¸€ä¸ªå­—å…¸å‚¨å­˜å›¾ï¼Œkey ä¸ºç‚¹ï¼Œvalue è®°å½•æ‰€è¿è¾¹
```python
from collections import defaultdict
 
class Graph:
    def __init__(self, isDirected=False):
        # ä»¥é‚»æ¥è¡¨çš„æ–¹å¼è¡¨ç¤ºä¸€å¼ å›¾
        self.graph = defaultdict(list)
        self.isDirected = isDirected
 
    def addEdge(self, start, end):
        # å°†endæ·»åŠ åˆ°startèŠ‚ç‚¹çš„é‚»æ¥è¡¨
        self.graph[start].append(end)
 
        if self.isDirected is False:
            # å¦‚æœæ˜¯æ— å‘å›¾ï¼Œåˆ™åŒå‘è¿½åŠ ã€‚
            self.graph[end].append(start)
        else:
            self.graph[end] = self.graph[end]
```







```

Terminal å‘½ä»¤
ä¸Šä¼ æ–‡ä»¶å¤¹
```ssh
scp -r "path" rocky@10.129.242.36:/home/user/backup
```

æµ‹è¯•ä»£ç 
```ssh
bash ../../offlinejudge.zsh e1.py ./
```

å¡ç‰¹å…°æ ‘
